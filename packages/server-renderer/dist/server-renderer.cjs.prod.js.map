{"version":3,"file":"server-renderer.cjs.prod.js","sources":["../src/helpers/ssrRenderAttrs.ts","../src/helpers/ssrRenderComponent.ts","../src/helpers/ssrRenderSlot.ts","../src/helpers/ssrRenderTeleport.ts","../src/helpers/ssrInterpolate.ts","../src/helpers/ssrRenderList.ts","../src/helpers/ssrRenderSuspense.ts","../src/helpers/ssrGetDirectiveProps.ts","../src/helpers/ssrVModelHelpers.ts","../src/helpers/ssrCompile.ts","../src/render.ts","../src/renderToString.ts","../src/renderToStream.ts","../src/index.ts"],"sourcesContent":["import {\r\n  escapeHtml,\r\n  isRenderableAttrValue,\r\n  isSVGTag,\r\n  stringifyStyle,\r\n} from '@vue/shared'\r\nimport {\r\n  includeBooleanAttr,\r\n  isBooleanAttr,\r\n  isOn,\r\n  isSSRSafeAttrName,\r\n  isString,\r\n  makeMap,\r\n  normalizeClass,\r\n  normalizeStyle,\r\n  propsToAttrMap,\r\n} from '@vue/shared'\r\n\r\n// leading comma for empty string \"\"\r\nconst shouldIgnoreProp = makeMap(\r\n  `,key,ref,innerHTML,textContent,ref_key,ref_for`,\r\n)\r\n\r\nexport function ssrRenderAttrs(\r\n  props: Record<string, unknown>,\r\n  tag?: string,\r\n): string {\r\n  let ret = ''\r\n  for (const key in props) {\r\n    if (\r\n      shouldIgnoreProp(key) ||\r\n      isOn(key) ||\r\n      (tag === 'textarea' && key === 'value')\r\n    ) {\r\n      continue\r\n    }\r\n    const value = props[key]\r\n    if (key === 'class') {\r\n      ret += ` class=\"${ssrRenderClass(value)}\"`\r\n    } else if (key === 'style') {\r\n      ret += ` style=\"${ssrRenderStyle(value)}\"`\r\n    } else {\r\n      ret += ssrRenderDynamicAttr(key, value, tag)\r\n    }\r\n  }\r\n  return ret\r\n}\r\n\r\n// render an attr with dynamic (unknown) key.\r\nexport function ssrRenderDynamicAttr(\r\n  key: string,\r\n  value: unknown,\r\n  tag?: string,\r\n): string {\r\n  if (!isRenderableAttrValue(value)) {\r\n    return ``\r\n  }\r\n  const attrKey =\r\n    tag && (tag.indexOf('-') > 0 || isSVGTag(tag))\r\n      ? key // preserve raw name on custom elements and svg\r\n      : propsToAttrMap[key] || key.toLowerCase()\r\n  if (isBooleanAttr(attrKey)) {\r\n    return includeBooleanAttr(value) ? ` ${attrKey}` : ``\r\n  } else if (isSSRSafeAttrName(attrKey)) {\r\n    return value === '' ? ` ${attrKey}` : ` ${attrKey}=\"${escapeHtml(value)}\"`\r\n  } else {\r\n    console.warn(\r\n      `[@vue/server-renderer] Skipped rendering unsafe attribute name: ${attrKey}`,\r\n    )\r\n    return ``\r\n  }\r\n}\r\n\r\n// Render a v-bind attr with static key. The key is pre-processed at compile\r\n// time and we only need to check and escape value.\r\nexport function ssrRenderAttr(key: string, value: unknown): string {\r\n  if (!isRenderableAttrValue(value)) {\r\n    return ``\r\n  }\r\n  return ` ${key}=\"${escapeHtml(value)}\"`\r\n}\r\n\r\nexport function ssrRenderClass(raw: unknown): string {\r\n  return escapeHtml(normalizeClass(raw))\r\n}\r\n\r\nexport function ssrRenderStyle(raw: unknown): string {\r\n  if (!raw) {\r\n    return ''\r\n  }\r\n  if (isString(raw)) {\r\n    return escapeHtml(raw)\r\n  }\r\n  const styles = normalizeStyle(raw)\r\n  return escapeHtml(stringifyStyle(styles))\r\n}\r\n","import {\r\n  type Component,\r\n  type ComponentInternalInstance,\r\n  type Slots,\r\n  createVNode,\r\n} from 'vue'\r\nimport { type Props, type SSRBuffer, renderComponentVNode } from '../render'\r\nimport type { SSRSlots } from './ssrRenderSlot'\r\n\r\nexport function ssrRenderComponent(\r\n  comp: Component,\r\n  props: Props | null = null,\r\n  children: Slots | SSRSlots | null = null,\r\n  parentComponent: ComponentInternalInstance | null = null,\r\n  slotScopeId?: string,\r\n): SSRBuffer | Promise<SSRBuffer> {\r\n  return renderComponentVNode(\r\n    createVNode(comp, props, children),\r\n    parentComponent,\r\n    slotScopeId,\r\n  )\r\n}\r\n","import type { ComponentInternalInstance, Slots } from 'vue'\r\nimport {\r\n  type Props,\r\n  type PushFn,\r\n  type SSRBufferItem,\r\n  renderVNodeChildren,\r\n} from '../render'\r\nimport { isArray } from '@vue/shared'\r\n\r\nexport type SSRSlots = Record<string, SSRSlot>\r\nexport type SSRSlot = (\r\n  props: Props,\r\n  push: PushFn,\r\n  parentComponent: ComponentInternalInstance | null,\r\n  scopeId: string | null,\r\n) => void\r\n\r\nexport function ssrRenderSlot(\r\n  slots: Slots | SSRSlots,\r\n  slotName: string,\r\n  slotProps: Props,\r\n  fallbackRenderFn: (() => void) | null,\r\n  push: PushFn,\r\n  parentComponent: ComponentInternalInstance,\r\n  slotScopeId?: string,\r\n) {\r\n  // template-compiled slots are always rendered as fragments\r\n  push(`<!--[-->`)\r\n  ssrRenderSlotInner(\r\n    slots,\r\n    slotName,\r\n    slotProps,\r\n    fallbackRenderFn,\r\n    push,\r\n    parentComponent,\r\n    slotScopeId,\r\n  )\r\n  push(`<!--]-->`)\r\n}\r\n\r\nexport function ssrRenderSlotInner(\r\n  slots: Slots | SSRSlots,\r\n  slotName: string,\r\n  slotProps: Props,\r\n  fallbackRenderFn: (() => void) | null,\r\n  push: PushFn,\r\n  parentComponent: ComponentInternalInstance,\r\n  slotScopeId?: string,\r\n  transition?: boolean,\r\n) {\r\n  const slotFn = slots[slotName]\r\n  if (slotFn) {\r\n    const slotBuffer: SSRBufferItem[] = []\r\n    const bufferedPush = (item: SSRBufferItem) => {\r\n      slotBuffer.push(item)\r\n    }\r\n    const ret = slotFn(\r\n      slotProps,\r\n      bufferedPush,\r\n      parentComponent,\r\n      slotScopeId ? ' ' + slotScopeId : '',\r\n    )\r\n    if (isArray(ret)) {\r\n      // normal slot\r\n      renderVNodeChildren(push, ret, parentComponent, slotScopeId)\r\n    } else {\r\n      // ssr slot.\r\n      // check if the slot renders all comments, in which case use the fallback\r\n      let isEmptySlot = true\r\n      if (transition) {\r\n        isEmptySlot = false\r\n      } else {\r\n        for (let i = 0; i < slotBuffer.length; i++) {\r\n          if (!isComment(slotBuffer[i])) {\r\n            isEmptySlot = false\r\n            break\r\n          }\r\n        }\r\n      }\r\n      if (isEmptySlot) {\r\n        if (fallbackRenderFn) {\r\n          fallbackRenderFn()\r\n        }\r\n      } else {\r\n        // #9933\r\n        // Although we handle Transition/TransitionGroup in the transform stage\r\n        // without rendering it as a fragment, the content passed into the slot\r\n        // may still be a fragment.\r\n        // Therefore, here we need to avoid rendering it as a fragment again.\r\n        let start = 0\r\n        let end = slotBuffer.length\r\n        if (\r\n          transition &&\r\n          slotBuffer[0] === '<!--[-->' &&\r\n          slotBuffer[end - 1] === '<!--]-->'\r\n        ) {\r\n          start++\r\n          end--\r\n        }\r\n\r\n        for (let i = start; i < end; i++) {\r\n          push(slotBuffer[i])\r\n        }\r\n      }\r\n    }\r\n  } else if (fallbackRenderFn) {\r\n    fallbackRenderFn()\r\n  }\r\n}\r\n\r\nconst commentTestRE = /^<!--.*-->$/s\r\nconst commentRE = /<!--[^]*?-->/gm\r\nfunction isComment(item: SSRBufferItem) {\r\n  if (typeof item !== 'string' || !commentTestRE.test(item)) return false\r\n  // if item is '<!---->' or '<!--[-->' or '<!--]-->', return true directly\r\n  if (item.length <= 8) return true\r\n  return !item.replace(commentRE, '').trim()\r\n}\r\n","import { type ComponentInternalInstance, ssrContextKey } from 'vue'\r\nimport {\r\n  type PushFn,\r\n  type SSRBufferItem,\r\n  type SSRContext,\r\n  createBuffer,\r\n} from '../render'\r\n\r\nexport function ssrRenderTeleport(\r\n  parentPush: PushFn,\r\n  contentRenderFn: (push: PushFn) => void,\r\n  target: string,\r\n  disabled: boolean,\r\n  parentComponent: ComponentInternalInstance,\r\n) {\r\n  parentPush('<!--teleport start-->')\r\n\r\n  const context = parentComponent.appContext.provides[\r\n    ssrContextKey as any\r\n  ] as SSRContext\r\n  const teleportBuffers =\r\n    context.__teleportBuffers || (context.__teleportBuffers = {})\r\n  const targetBuffer = teleportBuffers[target] || (teleportBuffers[target] = [])\r\n  // record current index of the target buffer to handle nested teleports\r\n  // since the parent needs to be rendered before the child\r\n  const bufferIndex = targetBuffer.length\r\n\r\n  let teleportContent: SSRBufferItem\r\n\r\n  if (disabled) {\r\n    contentRenderFn(parentPush)\r\n    teleportContent = `<!--teleport anchor-->`\r\n  } else {\r\n    const { getBuffer, push } = createBuffer()\r\n    contentRenderFn(push)\r\n    push(`<!--teleport anchor-->`)\r\n    teleportContent = getBuffer()\r\n  }\r\n\r\n  targetBuffer.splice(bufferIndex, 0, teleportContent)\r\n  parentPush('<!--teleport end-->')\r\n}\r\n","import { escapeHtml, toDisplayString } from '@vue/shared'\r\n\r\nexport function ssrInterpolate(value: unknown): string {\r\n  return escapeHtml(toDisplayString(value))\r\n}\r\n","import { isArray, isObject, isString } from '@vue/shared'\r\nimport { warn } from '@vue/runtime-core'\r\n\r\nexport function ssrRenderList(\r\n  source: unknown,\r\n  renderItem: (value: unknown, key: string | number, index?: number) => void,\r\n) {\r\n  if (isArray(source) || isString(source)) {\r\n    for (let i = 0, l = source.length; i < l; i++) {\r\n      renderItem(source[i], i)\r\n    }\r\n  } else if (typeof source === 'number') {\r\n    if (__DEV__ && !Number.isInteger(source)) {\r\n      warn(`The v-for range expect an integer value but got ${source}.`)\r\n      return\r\n    }\r\n    for (let i = 0; i < source; i++) {\r\n      renderItem(i + 1, i)\r\n    }\r\n  } else if (isObject(source)) {\r\n    if (source[Symbol.iterator as any]) {\r\n      const arr = Array.from(source as Iterable<any>)\r\n      for (let i = 0, l = arr.length; i < l; i++) {\r\n        renderItem(arr[i], i)\r\n      }\r\n    } else {\r\n      const keys = Object.keys(source)\r\n      for (let i = 0, l = keys.length; i < l; i++) {\r\n        const key = keys[i]\r\n        renderItem(source[key], key, i)\r\n      }\r\n    }\r\n  }\r\n}\r\n","import type { PushFn } from '../render'\r\n\r\nexport async function ssrRenderSuspense(\r\n  push: PushFn,\r\n  { default: renderContent }: Record<string, (() => void) | undefined>,\r\n) {\r\n  if (renderContent) {\r\n    renderContent()\r\n  } else {\r\n    push(`<!---->`)\r\n  }\r\n}\r\n","import type { ComponentPublicInstance, Directive } from '@vue/runtime-core'\r\n\r\nexport function ssrGetDirectiveProps(\r\n  instance: ComponentPublicInstance,\r\n  dir: Directive,\r\n  value?: any,\r\n  arg?: string,\r\n  modifiers: Record<string, boolean> = {},\r\n): Record<string, any> {\r\n  if (typeof dir !== 'function' && dir.getSSRProps) {\r\n    return (\r\n      dir.getSSRProps(\r\n        {\r\n          dir,\r\n          instance,\r\n          value,\r\n          oldValue: undefined,\r\n          arg,\r\n          modifiers,\r\n        },\r\n        null as any,\r\n      ) || {}\r\n    )\r\n  }\r\n  return {}\r\n}\r\n","import { isArray, looseEqual, looseIndexOf } from '@vue/shared'\r\nimport { ssrRenderAttr } from './ssrRenderAttrs'\r\n\r\nexport const ssrLooseEqual = looseEqual as (a: unknown, b: unknown) => boolean\r\n\r\nexport function ssrLooseContain(arr: unknown[], value: unknown): boolean {\r\n  return looseIndexOf(arr, value) > -1\r\n}\r\n\r\n// for <input :type=\"type\" v-model=\"model\" value=\"value\">\r\nexport function ssrRenderDynamicModel(\r\n  type: unknown,\r\n  model: unknown,\r\n  value: unknown,\r\n) {\r\n  switch (type) {\r\n    case 'radio':\r\n      return looseEqual(model, value) ? ' checked' : ''\r\n    case 'checkbox':\r\n      return (isArray(model) ? ssrLooseContain(model, value) : model)\r\n        ? ' checked'\r\n        : ''\r\n    default:\r\n      // text types\r\n      return ssrRenderAttr('value', model)\r\n  }\r\n}\r\n\r\n// for <input v-bind=\"obj\" v-model=\"model\">\r\nexport function ssrGetDynamicModelProps(\r\n  existingProps: any = {},\r\n  model: unknown,\r\n) {\r\n  const { type, value } = existingProps\r\n  switch (type) {\r\n    case 'radio':\r\n      return looseEqual(model, value) ? { checked: true } : null\r\n    case 'checkbox':\r\n      return (isArray(model) ? ssrLooseContain(model, value) : model)\r\n        ? { checked: true }\r\n        : null\r\n    default:\r\n      // text types\r\n      return { value: model }\r\n  }\r\n}\r\n","import {\r\n  type ComponentInternalInstance,\r\n  type ComponentOptions,\r\n  warn,\r\n} from 'vue'\r\nimport { compile } from '@vue/compiler-ssr'\r\nimport { NO, extend, generateCodeFrame, isFunction } from '@vue/shared'\r\nimport type { CompilerError, CompilerOptions } from '@vue/compiler-core'\r\nimport type { PushFn } from '../render'\r\n\r\nimport * as Vue from 'vue'\r\nimport * as helpers from '../internal'\r\n\r\ntype SSRRenderFunction = (\r\n  context: any,\r\n  push: PushFn,\r\n  parentInstance: ComponentInternalInstance,\r\n) => void\r\n\r\nconst compileCache: Record<string, SSRRenderFunction> = Object.create(null)\r\n\r\nexport function ssrCompile(\r\n  template: string,\r\n  instance: ComponentInternalInstance,\r\n): SSRRenderFunction {\r\n  // TODO: this branch should now work in ESM builds, enable it in a minor\r\n  if (!__CJS__) {\r\n    throw new Error(\r\n      `On-the-fly template compilation is not supported in the ESM build of ` +\r\n        `@vue/server-renderer. All templates must be pre-compiled into ` +\r\n        `render functions.`,\r\n    )\r\n  }\r\n\r\n  // TODO: This is copied from runtime-core/src/component.ts and should probably be refactored\r\n  const Component = instance.type as ComponentOptions\r\n  const { isCustomElement, compilerOptions } = instance.appContext.config\r\n  const { delimiters, compilerOptions: componentCompilerOptions } = Component\r\n\r\n  const finalCompilerOptions: CompilerOptions = extend(\r\n    extend(\r\n      {\r\n        isCustomElement,\r\n        delimiters,\r\n      },\r\n      compilerOptions,\r\n    ),\r\n    componentCompilerOptions,\r\n  )\r\n\r\n  finalCompilerOptions.isCustomElement =\r\n    finalCompilerOptions.isCustomElement || NO\r\n  finalCompilerOptions.isNativeTag = finalCompilerOptions.isNativeTag || NO\r\n\r\n  const cacheKey = JSON.stringify(\r\n    {\r\n      template,\r\n      compilerOptions: finalCompilerOptions,\r\n    },\r\n    (key, value) => {\r\n      return isFunction(value) ? value.toString() : value\r\n    },\r\n  )\r\n\r\n  const cached = compileCache[cacheKey]\r\n  if (cached) {\r\n    return cached\r\n  }\r\n\r\n  finalCompilerOptions.onError = (err: CompilerError) => {\r\n    if (__DEV__) {\r\n      const message = `[@vue/server-renderer] Template compilation error: ${err.message}`\r\n      const codeFrame =\r\n        err.loc &&\r\n        generateCodeFrame(\r\n          template as string,\r\n          err.loc.start.offset,\r\n          err.loc.end.offset,\r\n        )\r\n      warn(codeFrame ? `${message}\\n${codeFrame}` : message)\r\n    } else {\r\n      throw err\r\n    }\r\n  }\r\n\r\n  const { code } = compile(template, finalCompilerOptions)\r\n  const requireMap = {\r\n    vue: Vue,\r\n    'vue/server-renderer': helpers,\r\n  }\r\n  const fakeRequire = (id: 'vue' | 'vue/server-renderer') => requireMap[id]\r\n  return (compileCache[cacheKey] = Function('require', code)(fakeRequire))\r\n}\r\n","import {\r\n  Comment,\r\n  type Component,\r\n  type ComponentInternalInstance,\r\n  type DirectiveBinding,\r\n  Fragment,\r\n  type FunctionalComponent,\r\n  Static,\r\n  Text,\r\n  type VNode,\r\n  type VNodeArrayChildren,\r\n  type VNodeProps,\r\n  mergeProps,\r\n  ssrUtils,\r\n  warn,\r\n} from 'vue'\r\nimport {\r\n  NOOP,\r\n  ShapeFlags,\r\n  escapeHtml,\r\n  escapeHtmlComment,\r\n  isArray,\r\n  isFunction,\r\n  isPromise,\r\n  isString,\r\n  isVoidTag,\r\n} from '@vue/shared'\r\nimport { ssrRenderAttrs } from './helpers/ssrRenderAttrs'\r\nimport { ssrCompile } from './helpers/ssrCompile'\r\nimport { ssrRenderTeleport } from './helpers/ssrRenderTeleport'\r\n\r\nconst {\r\n  createComponentInstance,\r\n  setCurrentRenderingInstance,\r\n  setupComponent,\r\n  renderComponentRoot,\r\n  normalizeVNode,\r\n} = ssrUtils\r\n\r\nexport type SSRBuffer = SSRBufferItem[] & { hasAsync?: boolean }\r\nexport type SSRBufferItem = string | SSRBuffer | Promise<SSRBuffer>\r\nexport type PushFn = (item: SSRBufferItem) => void\r\nexport type Props = Record<string, unknown>\r\n\r\nexport type SSRContext = {\r\n  [key: string]: any\r\n  teleports?: Record<string, string>\r\n  /**\r\n   * @internal\r\n   */\r\n  __teleportBuffers?: Record<string, SSRBuffer>\r\n  /**\r\n   * @internal\r\n   */\r\n  __watcherHandles?: (() => void)[]\r\n}\r\n\r\n// Each component has a buffer array.\r\n// A buffer array can contain one of the following:\r\n// - plain string\r\n// - A resolved buffer (recursive arrays of strings that can be unrolled\r\n//   synchronously)\r\n// - An async buffer (a Promise that resolves to a resolved buffer)\r\nexport function createBuffer() {\r\n  let appendable = false\r\n  const buffer: SSRBuffer = []\r\n  return {\r\n    getBuffer(): SSRBuffer {\r\n      // Return static buffer and await on items during unroll stage\r\n      return buffer\r\n    },\r\n    push(item: SSRBufferItem) {\r\n      const isStringItem = isString(item)\r\n      if (appendable && isStringItem) {\r\n        buffer[buffer.length - 1] += item as string\r\n      } else {\r\n        buffer.push(item)\r\n      }\r\n      appendable = isStringItem\r\n      if (isPromise(item) || (isArray(item) && item.hasAsync)) {\r\n        // promise, or child buffer with async, mark as async.\r\n        // this allows skipping unnecessary await ticks during unroll stage\r\n        buffer.hasAsync = true\r\n      }\r\n    },\r\n  }\r\n}\r\n\r\nexport function renderComponentVNode(\r\n  vnode: VNode,\r\n  parentComponent: ComponentInternalInstance | null = null,\r\n  slotScopeId?: string,\r\n): SSRBuffer | Promise<SSRBuffer> {\r\n  const instance = createComponentInstance(vnode, parentComponent, null)\r\n  const res = setupComponent(instance, true /* isSSR */)\r\n  const hasAsyncSetup = isPromise(res)\r\n  const prefetches = instance.sp /* LifecycleHooks.SERVER_PREFETCH */\r\n  if (hasAsyncSetup || prefetches) {\r\n    let p: Promise<unknown> = hasAsyncSetup\r\n      ? (res as Promise<void>)\r\n      : Promise.resolve()\r\n    if (prefetches) {\r\n      p = p\r\n        .then(() =>\r\n          Promise.all(\r\n            prefetches.map(prefetch => prefetch.call(instance.proxy)),\r\n          ),\r\n        )\r\n        // Note: error display is already done by the wrapped lifecycle hook function.\r\n        .catch(NOOP)\r\n    }\r\n    return p.then(() => renderComponentSubTree(instance, slotScopeId))\r\n  } else {\r\n    return renderComponentSubTree(instance, slotScopeId)\r\n  }\r\n}\r\n\r\nfunction renderComponentSubTree(\r\n  instance: ComponentInternalInstance,\r\n  slotScopeId?: string,\r\n): SSRBuffer | Promise<SSRBuffer> {\r\n  const comp = instance.type as Component\r\n  const { getBuffer, push } = createBuffer()\r\n  if (isFunction(comp)) {\r\n    let root = renderComponentRoot(instance)\r\n    // #5817 scope ID attrs not falling through if functional component doesn't\r\n    // have props\r\n    if (!(comp as FunctionalComponent).props) {\r\n      for (const key in instance.attrs) {\r\n        if (key.startsWith(`data-v-`)) {\r\n          ;(root.props || (root.props = {}))[key] = ``\r\n        }\r\n      }\r\n    }\r\n    renderVNode(push, (instance.subTree = root), instance, slotScopeId)\r\n  } else {\r\n    if (\r\n      (!instance.render || instance.render === NOOP) &&\r\n      !instance.ssrRender &&\r\n      !comp.ssrRender &&\r\n      isString(comp.template)\r\n    ) {\r\n      comp.ssrRender = ssrCompile(comp.template, instance)\r\n    }\r\n\r\n    // perf: enable caching of computed getters during render\r\n    // since there cannot be state mutations during render.\r\n    for (const e of instance.scope.effects) {\r\n      if (e.computed) {\r\n        e.computed._dirty = true\r\n        e.computed._cacheable = true\r\n      }\r\n    }\r\n\r\n    const ssrRender = instance.ssrRender || comp.ssrRender\r\n    if (ssrRender) {\r\n      // optimized\r\n      // resolve fallthrough attrs\r\n      let attrs = instance.inheritAttrs !== false ? instance.attrs : undefined\r\n      let hasCloned = false\r\n\r\n      let cur = instance\r\n      while (true) {\r\n        const scopeId = cur.vnode.scopeId\r\n        if (scopeId) {\r\n          if (!hasCloned) {\r\n            attrs = { ...attrs }\r\n            hasCloned = true\r\n          }\r\n          attrs![scopeId] = ''\r\n        }\r\n        const parent = cur.parent\r\n        if (parent && parent.subTree && parent.subTree === cur.vnode) {\r\n          // parent is a non-SSR compiled component and is rendering this\r\n          // component as root. inherit its scopeId if present.\r\n          cur = parent\r\n        } else {\r\n          break\r\n        }\r\n      }\r\n\r\n      if (slotScopeId) {\r\n        if (!hasCloned) attrs = { ...attrs }\r\n        attrs![slotScopeId.trim()] = ''\r\n      }\r\n\r\n      // set current rendering instance for asset resolution\r\n      const prev = setCurrentRenderingInstance(instance)\r\n      try {\r\n        ssrRender(\r\n          instance.proxy,\r\n          push,\r\n          instance,\r\n          attrs,\r\n          // compiler-optimized bindings\r\n          instance.props,\r\n          instance.setupState,\r\n          instance.data,\r\n          instance.ctx,\r\n        )\r\n      } finally {\r\n        setCurrentRenderingInstance(prev)\r\n      }\r\n    } else if (instance.render && instance.render !== NOOP) {\r\n      renderVNode(\r\n        push,\r\n        (instance.subTree = renderComponentRoot(instance)),\r\n        instance,\r\n        slotScopeId,\r\n      )\r\n    } else {\r\n      const componentName = comp.name || comp.__file || `<Anonymous>`\r\n      warn(`Component ${componentName} is missing template or render function.`)\r\n      push(`<!---->`)\r\n    }\r\n  }\r\n  return getBuffer()\r\n}\r\n\r\nexport function renderVNode(\r\n  push: PushFn,\r\n  vnode: VNode,\r\n  parentComponent: ComponentInternalInstance,\r\n  slotScopeId?: string,\r\n) {\r\n  const { type, shapeFlag, children } = vnode\r\n  switch (type) {\r\n    case Text:\r\n      push(escapeHtml(children as string))\r\n      break\r\n    case Comment:\r\n      push(\r\n        children\r\n          ? `<!--${escapeHtmlComment(children as string)}-->`\r\n          : `<!---->`,\r\n      )\r\n      break\r\n    case Static:\r\n      push(children as string)\r\n      break\r\n    case Fragment:\r\n      if (vnode.slotScopeIds) {\r\n        slotScopeId =\r\n          (slotScopeId ? slotScopeId + ' ' : '') + vnode.slotScopeIds.join(' ')\r\n      }\r\n      push(`<!--[-->`) // open\r\n      renderVNodeChildren(\r\n        push,\r\n        children as VNodeArrayChildren,\r\n        parentComponent,\r\n        slotScopeId,\r\n      )\r\n      push(`<!--]-->`) // close\r\n      break\r\n    default:\r\n      if (shapeFlag & ShapeFlags.ELEMENT) {\r\n        renderElementVNode(push, vnode, parentComponent, slotScopeId)\r\n      } else if (shapeFlag & ShapeFlags.COMPONENT) {\r\n        push(renderComponentVNode(vnode, parentComponent, slotScopeId))\r\n      } else if (shapeFlag & ShapeFlags.TELEPORT) {\r\n        renderTeleportVNode(push, vnode, parentComponent, slotScopeId)\r\n      } else if (shapeFlag & ShapeFlags.SUSPENSE) {\r\n        renderVNode(push, vnode.ssContent!, parentComponent, slotScopeId)\r\n      } else {\r\n        warn(\r\n          '[@vue/server-renderer] Invalid VNode type:',\r\n          type,\r\n          `(${typeof type})`,\r\n        )\r\n      }\r\n  }\r\n}\r\n\r\nexport function renderVNodeChildren(\r\n  push: PushFn,\r\n  children: VNodeArrayChildren,\r\n  parentComponent: ComponentInternalInstance,\r\n  slotScopeId: string | undefined,\r\n) {\r\n  for (let i = 0; i < children.length; i++) {\r\n    renderVNode(push, normalizeVNode(children[i]), parentComponent, slotScopeId)\r\n  }\r\n}\r\n\r\nfunction renderElementVNode(\r\n  push: PushFn,\r\n  vnode: VNode,\r\n  parentComponent: ComponentInternalInstance,\r\n  slotScopeId: string | undefined,\r\n) {\r\n  const tag = vnode.type as string\r\n  let { props, children, shapeFlag, scopeId, dirs } = vnode\r\n  let openTag = `<${tag}`\r\n\r\n  if (dirs) {\r\n    props = applySSRDirectives(vnode, props, dirs)\r\n  }\r\n\r\n  if (props) {\r\n    openTag += ssrRenderAttrs(props, tag)\r\n  }\r\n\r\n  if (scopeId) {\r\n    openTag += ` ${scopeId}`\r\n  }\r\n  // inherit parent chain scope id if this is the root node\r\n  let curParent: ComponentInternalInstance | null = parentComponent\r\n  let curVnode = vnode\r\n  while (curParent && curVnode === curParent.subTree) {\r\n    curVnode = curParent.vnode\r\n    if (curVnode.scopeId) {\r\n      openTag += ` ${curVnode.scopeId}`\r\n    }\r\n    curParent = curParent.parent\r\n  }\r\n  if (slotScopeId) {\r\n    openTag += ` ${slotScopeId}`\r\n  }\r\n\r\n  push(openTag + `>`)\r\n  if (!isVoidTag(tag)) {\r\n    let hasChildrenOverride = false\r\n    if (props) {\r\n      if (props.innerHTML) {\r\n        hasChildrenOverride = true\r\n        push(props.innerHTML)\r\n      } else if (props.textContent) {\r\n        hasChildrenOverride = true\r\n        push(escapeHtml(props.textContent))\r\n      } else if (tag === 'textarea' && props.value) {\r\n        hasChildrenOverride = true\r\n        push(escapeHtml(props.value))\r\n      }\r\n    }\r\n    if (!hasChildrenOverride) {\r\n      if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\r\n        push(escapeHtml(children as string))\r\n      } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n        renderVNodeChildren(\r\n          push,\r\n          children as VNodeArrayChildren,\r\n          parentComponent,\r\n          slotScopeId,\r\n        )\r\n      }\r\n    }\r\n    push(`</${tag}>`)\r\n  }\r\n}\r\n\r\nfunction applySSRDirectives(\r\n  vnode: VNode,\r\n  rawProps: VNodeProps | null,\r\n  dirs: DirectiveBinding[],\r\n): VNodeProps {\r\n  const toMerge: VNodeProps[] = []\r\n  for (let i = 0; i < dirs.length; i++) {\r\n    const binding = dirs[i]\r\n    const {\r\n      dir: { getSSRProps },\r\n    } = binding\r\n    if (getSSRProps) {\r\n      const props = getSSRProps(binding, vnode)\r\n      if (props) toMerge.push(props)\r\n    }\r\n  }\r\n  return mergeProps(rawProps || {}, ...toMerge)\r\n}\r\n\r\nfunction renderTeleportVNode(\r\n  push: PushFn,\r\n  vnode: VNode,\r\n  parentComponent: ComponentInternalInstance,\r\n  slotScopeId: string | undefined,\r\n) {\r\n  const target = vnode.props && vnode.props.to\r\n  const disabled = vnode.props && vnode.props.disabled\r\n  if (!target) {\r\n    if (!disabled) {\r\n      warn(`[@vue/server-renderer] Teleport is missing target prop.`)\r\n    }\r\n    return []\r\n  }\r\n  if (!isString(target)) {\r\n    warn(\r\n      `[@vue/server-renderer] Teleport target must be a query selector string.`,\r\n    )\r\n    return []\r\n  }\r\n  ssrRenderTeleport(\r\n    push,\r\n    push => {\r\n      renderVNodeChildren(\r\n        push,\r\n        vnode.children as VNodeArrayChildren,\r\n        parentComponent,\r\n        slotScopeId,\r\n      )\r\n    },\r\n    target,\r\n    disabled || disabled === '',\r\n    parentComponent,\r\n  )\r\n}\r\n","import {\r\n  type App,\r\n  type VNode,\r\n  createApp,\r\n  createVNode,\r\n  ssrContextKey,\r\n  ssrUtils,\r\n} from 'vue'\r\nimport { isPromise, isString } from '@vue/shared'\r\nimport { type SSRBuffer, type SSRContext, renderComponentVNode } from './render'\r\n\r\nconst { isVNode } = ssrUtils\r\n\r\nasync function unrollBuffer(buffer: SSRBuffer): Promise<string> {\r\n  if (buffer.hasAsync) {\r\n    let ret = ''\r\n    for (let i = 0; i < buffer.length; i++) {\r\n      let item = buffer[i]\r\n      if (isPromise(item)) {\r\n        item = await item\r\n      }\r\n      if (isString(item)) {\r\n        ret += item\r\n      } else {\r\n        ret += await unrollBuffer(item)\r\n      }\r\n    }\r\n    return ret\r\n  } else {\r\n    // sync buffer can be more efficiently unrolled without unnecessary await\r\n    // ticks\r\n    return unrollBufferSync(buffer)\r\n  }\r\n}\r\n\r\nfunction unrollBufferSync(buffer: SSRBuffer): string {\r\n  let ret = ''\r\n  for (let i = 0; i < buffer.length; i++) {\r\n    let item = buffer[i]\r\n    if (isString(item)) {\r\n      ret += item\r\n    } else {\r\n      // since this is a sync buffer, child buffers are never promises\r\n      ret += unrollBufferSync(item as SSRBuffer)\r\n    }\r\n  }\r\n  return ret\r\n}\r\n\r\nexport async function renderToString(\r\n  input: App | VNode,\r\n  context: SSRContext = {},\r\n): Promise<string> {\r\n  if (isVNode(input)) {\r\n    // raw vnode, wrap with app (for context)\r\n    return renderToString(createApp({ render: () => input }), context)\r\n  }\r\n\r\n  // rendering an app\r\n  const vnode = createVNode(input._component, input._props)\r\n  vnode.appContext = input._context\r\n  // provide the ssr context to the tree\r\n  input.provide(ssrContextKey, context)\r\n  const buffer = await renderComponentVNode(vnode)\r\n\r\n  const result = await unrollBuffer(buffer as SSRBuffer)\r\n\r\n  await resolveTeleports(context)\r\n\r\n  if (context.__watcherHandles) {\r\n    for (const unwatch of context.__watcherHandles) {\r\n      unwatch()\r\n    }\r\n  }\r\n\r\n  return result\r\n}\r\n\r\nexport async function resolveTeleports(context: SSRContext) {\r\n  if (context.__teleportBuffers) {\r\n    context.teleports = context.teleports || {}\r\n    for (const key in context.__teleportBuffers) {\r\n      // note: it's OK to await sequentially here because the Promises were\r\n      // created eagerly in parallel.\r\n      context.teleports[key] = await unrollBuffer(\r\n        await Promise.all([context.__teleportBuffers[key]]),\r\n      )\r\n    }\r\n  }\r\n}\r\n","import {\r\n  type App,\r\n  type VNode,\r\n  createApp,\r\n  createVNode,\r\n  ssrContextKey,\r\n  ssrUtils,\r\n} from 'vue'\r\nimport { isPromise, isString } from '@vue/shared'\r\nimport { type SSRBuffer, type SSRContext, renderComponentVNode } from './render'\r\nimport type { Readable, Writable } from 'node:stream'\r\nimport { resolveTeleports } from './renderToString'\r\n\r\nconst { isVNode } = ssrUtils\r\n\r\nexport interface SimpleReadable {\r\n  push(chunk: string | null): void\r\n  destroy(err: any): void\r\n}\r\n\r\nasync function unrollBuffer(\r\n  buffer: SSRBuffer,\r\n  stream: SimpleReadable,\r\n): Promise<void> {\r\n  if (buffer.hasAsync) {\r\n    for (let i = 0; i < buffer.length; i++) {\r\n      let item = buffer[i]\r\n      if (isPromise(item)) {\r\n        item = await item\r\n      }\r\n      if (isString(item)) {\r\n        stream.push(item)\r\n      } else {\r\n        await unrollBuffer(item, stream)\r\n      }\r\n    }\r\n  } else {\r\n    // sync buffer can be more efficiently unrolled without unnecessary await\r\n    // ticks\r\n    unrollBufferSync(buffer, stream)\r\n  }\r\n}\r\n\r\nfunction unrollBufferSync(buffer: SSRBuffer, stream: SimpleReadable) {\r\n  for (let i = 0; i < buffer.length; i++) {\r\n    let item = buffer[i]\r\n    if (isString(item)) {\r\n      stream.push(item)\r\n    } else {\r\n      // since this is a sync buffer, child buffers are never promises\r\n      unrollBufferSync(item as SSRBuffer, stream)\r\n    }\r\n  }\r\n}\r\n\r\nexport function renderToSimpleStream<T extends SimpleReadable>(\r\n  input: App | VNode,\r\n  context: SSRContext,\r\n  stream: T,\r\n): T {\r\n  if (isVNode(input)) {\r\n    // raw vnode, wrap with app (for context)\r\n    return renderToSimpleStream(\r\n      createApp({ render: () => input }),\r\n      context,\r\n      stream,\r\n    )\r\n  }\r\n\r\n  // rendering an app\r\n  const vnode = createVNode(input._component, input._props)\r\n  vnode.appContext = input._context\r\n  // provide the ssr context to the tree\r\n  input.provide(ssrContextKey, context)\r\n\r\n  Promise.resolve(renderComponentVNode(vnode))\r\n    .then(buffer => unrollBuffer(buffer, stream))\r\n    .then(() => resolveTeleports(context))\r\n    .then(() => {\r\n      if (context.__watcherHandles) {\r\n        for (const unwatch of context.__watcherHandles) {\r\n          unwatch()\r\n        }\r\n      }\r\n    })\r\n    .then(() => stream.push(null))\r\n    .catch(error => {\r\n      stream.destroy(error)\r\n    })\r\n\r\n  return stream\r\n}\r\n\r\n/**\r\n * @deprecated\r\n */\r\nexport function renderToStream(\r\n  input: App | VNode,\r\n  context: SSRContext = {},\r\n): Readable {\r\n  console.warn(\r\n    `[@vue/server-renderer] renderToStream is deprecated - use renderToNodeStream instead.`,\r\n  )\r\n  return renderToNodeStream(input, context)\r\n}\r\n\r\nexport function renderToNodeStream(\r\n  input: App | VNode,\r\n  context: SSRContext = {},\r\n): Readable {\r\n  const stream: Readable = __CJS__\r\n    ? new (require('node:stream').Readable)({ read() {} })\r\n    : null\r\n\r\n  if (!stream) {\r\n    throw new Error(\r\n      `ESM build of renderToStream() does not support renderToNodeStream(). ` +\r\n        `Use pipeToNodeWritable() with an existing Node.js Writable stream ` +\r\n        `instance instead.`,\r\n    )\r\n  }\r\n\r\n  return renderToSimpleStream(input, context, stream)\r\n}\r\n\r\nexport function pipeToNodeWritable(\r\n  input: App | VNode,\r\n  context: SSRContext = {},\r\n  writable: Writable,\r\n) {\r\n  renderToSimpleStream(input, context, {\r\n    push(content) {\r\n      if (content != null) {\r\n        writable.write(content)\r\n      } else {\r\n        writable.end()\r\n      }\r\n    },\r\n    destroy(err) {\r\n      writable.destroy(err)\r\n    },\r\n  })\r\n}\r\n\r\nexport function renderToWebStream(\r\n  input: App | VNode,\r\n  context: SSRContext = {},\r\n): ReadableStream {\r\n  if (typeof ReadableStream !== 'function') {\r\n    throw new Error(\r\n      `ReadableStream constructor is not available in the global scope. ` +\r\n        `If the target environment does support web streams, consider using ` +\r\n        `pipeToWebWritable() with an existing WritableStream instance instead.`,\r\n    )\r\n  }\r\n\r\n  const encoder = new TextEncoder()\r\n  let cancelled = false\r\n\r\n  return new ReadableStream({\r\n    start(controller) {\r\n      renderToSimpleStream(input, context, {\r\n        push(content) {\r\n          if (cancelled) return\r\n          if (content != null) {\r\n            controller.enqueue(encoder.encode(content))\r\n          } else {\r\n            controller.close()\r\n          }\r\n        },\r\n        destroy(err) {\r\n          controller.error(err)\r\n        },\r\n      })\r\n    },\r\n    cancel() {\r\n      cancelled = true\r\n    },\r\n  })\r\n}\r\n\r\nexport function pipeToWebWritable(\r\n  input: App | VNode,\r\n  context: SSRContext = {},\r\n  writable: WritableStream,\r\n): void {\r\n  const writer = writable.getWriter()\r\n  const encoder = new TextEncoder()\r\n\r\n  // #4287 CloudFlare workers do not implement `ready` property\r\n  let hasReady = false\r\n  try {\r\n    hasReady = isPromise(writer.ready)\r\n  } catch (e: any) {}\r\n\r\n  renderToSimpleStream(input, context, {\r\n    async push(content) {\r\n      if (hasReady) {\r\n        await writer.ready\r\n      }\r\n      if (content != null) {\r\n        return writer.write(encoder.encode(content))\r\n      } else {\r\n        return writer.close()\r\n      }\r\n    },\r\n    destroy(err) {\r\n      // TODO better error handling?\r\n      // eslint-disable-next-line no-console\r\n      console.log(err)\r\n      writer.close()\r\n    },\r\n  })\r\n}\r\n","import { initDirectivesForSSR } from 'vue'\r\ninitDirectivesForSSR()\r\n\r\n// public\r\nexport type { SSRContext } from './render'\r\nexport { renderToString } from './renderToString'\r\nexport {\r\n  renderToSimpleStream,\r\n  renderToNodeStream,\r\n  pipeToNodeWritable,\r\n  renderToWebStream,\r\n  pipeToWebWritable,\r\n  type SimpleReadable,\r\n  // deprecated\r\n  renderToStream,\r\n} from './renderToStream'\r\n\r\n// internal runtime helpers\r\nexport * from './internal'\r\n"],"names":["makeMap","isOn","isRenderableAttrValue","isSVGTag","propsToAttrMap","isBooleanAttr","includeBooleanAttr","isSSRSafeAttrName","escapeHtml","normalizeClass","isString","normalizeStyle","stringifyStyle","createVNode","isArray","ssrContextKey","toDisplayString","isObject","looseEqual","looseIndexOf","extend","NO","isFunction","compile","Vue","ssrUtils","isPromise","NOOP","warn","Text","Comment","escapeHtmlComment","Static","Fragment","isVoidTag","mergeProps","push","isVNode","unrollBuffer","unrollBufferSync","createApp","initDirectivesForSSR"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAmBA,MAAM,gBAAmB,GAAAA,cAAA;AAAA,EACvB,CAAA,8CAAA,CAAA;AACF,CAAA,CAAA;AAEgB,SAAA,cAAA,CACd,OACA,GACQ,EAAA;AACR,EAAA,IAAI,GAAM,GAAA,EAAA,CAAA;AACV,EAAA,KAAA,MAAW,OAAO,KAAO,EAAA;AACvB,IACE,IAAA,gBAAA,CAAiB,GAAG,CACpB,IAAAC,WAAA,CAAK,GAAG,CACP,IAAA,GAAA,KAAQ,UAAc,IAAA,GAAA,KAAQ,OAC/B,EAAA;AACA,MAAA,SAAA;AAAA,KACF;AACA,IAAM,MAAA,KAAA,GAAQ,MAAM,GAAG,CAAA,CAAA;AACvB,IAAA,IAAI,QAAQ,OAAS,EAAA;AACnB,MAAO,GAAA,IAAA,CAAA,QAAA,EAAW,cAAe,CAAA,KAAK,CAAC,CAAA,CAAA,CAAA,CAAA;AAAA,KACzC,MAAA,IAAW,QAAQ,OAAS,EAAA;AAC1B,MAAO,GAAA,IAAA,CAAA,QAAA,EAAW,cAAe,CAAA,KAAK,CAAC,CAAA,CAAA,CAAA,CAAA;AAAA,KAClC,MAAA;AACL,MAAO,GAAA,IAAA,oBAAA,CAAqB,GAAK,EAAA,KAAA,EAAO,GAAG,CAAA,CAAA;AAAA,KAC7C;AAAA,GACF;AACA,EAAO,OAAA,GAAA,CAAA;AACT,CAAA;AAGgB,SAAA,oBAAA,CACd,GACA,EAAA,KAAA,EACA,GACQ,EAAA;AACR,EAAI,IAAA,CAACC,4BAAsB,CAAA,KAAK,CAAG,EAAA;AACjC,IAAO,OAAA,CAAA,CAAA,CAAA;AAAA,GACT;AACA,EAAA,MAAM,OACJ,GAAA,GAAA,KAAQ,GAAI,CAAA,OAAA,CAAQ,GAAG,CAAI,GAAA,CAAA,IAAKC,eAAS,CAAA,GAAG,KACxC,GACA,GAAAC,qBAAA,CAAe,GAAG,CAAA,IAAK,IAAI,WAAY,EAAA,CAAA;AAC7C,EAAI,IAAAC,oBAAA,CAAc,OAAO,CAAG,EAAA;AAC1B,IAAA,OAAOC,yBAAmB,CAAA,KAAK,CAAI,GAAA,CAAA,CAAA,EAAI,OAAO,CAAK,CAAA,GAAA,CAAA,CAAA,CAAA;AAAA,GACrD,MAAA,IAAWC,wBAAkB,CAAA,OAAO,CAAG,EAAA;AACrC,IAAO,OAAA,KAAA,KAAU,EAAK,GAAA,CAAA,CAAA,EAAI,OAAO,CAAA,CAAA,GAAK,IAAI,OAAO,CAAA,EAAA,EAAKC,iBAAW,CAAA,KAAK,CAAC,CAAA,CAAA,CAAA,CAAA;AAAA,GAClE,MAAA;AACL,IAAQ,OAAA,CAAA,IAAA;AAAA,MACN,mEAAmE,OAAO,CAAA,CAAA;AAAA,KAC5E,CAAA;AACA,IAAO,OAAA,CAAA,CAAA,CAAA;AAAA,GACT;AACF,CAAA;AAIgB,SAAA,aAAA,CAAc,KAAa,KAAwB,EAAA;AACjE,EAAI,IAAA,CAACN,4BAAsB,CAAA,KAAK,CAAG,EAAA;AACjC,IAAO,OAAA,CAAA,CAAA,CAAA;AAAA,GACT;AACA,EAAA,OAAO,CAAI,CAAA,EAAA,GAAG,CAAK,EAAA,EAAAM,iBAAA,CAAW,KAAK,CAAC,CAAA,CAAA,CAAA,CAAA;AACtC,CAAA;AAEO,SAAS,eAAe,GAAsB,EAAA;AACnD,EAAO,OAAAA,iBAAA,CAAWC,qBAAe,CAAA,GAAG,CAAC,CAAA,CAAA;AACvC,CAAA;AAEO,SAAS,eAAe,GAAsB,EAAA;AACnD,EAAA,IAAI,CAAC,GAAK,EAAA;AACR,IAAO,OAAA,EAAA,CAAA;AAAA,GACT;AACA,EAAI,IAAAC,eAAA,CAAS,GAAG,CAAG,EAAA;AACjB,IAAA,OAAOF,kBAAW,GAAG,CAAA,CAAA;AAAA,GACvB;AACA,EAAM,MAAA,MAAA,GAASG,sBAAe,GAAG,CAAA,CAAA;AACjC,EAAO,OAAAH,iBAAA,CAAWI,qBAAe,CAAA,MAAM,CAAC,CAAA,CAAA;AAC1C;;ACtFgB,SAAA,kBAAA,CACd,MACA,KAAsB,GAAA,IAAA,EACtB,WAAoC,IACpC,EAAA,eAAA,GAAoD,MACpD,WACgC,EAAA;AAChC,EAAO,OAAA,oBAAA;AAAA,IACLC,eAAA,CAAY,IAAM,EAAA,KAAA,EAAO,QAAQ,CAAA;AAAA,IACjC,eAAA;AAAA,IACA,WAAA;AAAA,GACF,CAAA;AACF;;ACJO,SAAS,cACd,KACA,EAAA,QAAA,EACA,WACA,gBACA,EAAA,IAAA,EACA,iBACA,WACA,EAAA;AAEA,EAAA,IAAA,CAAK,CAAU,QAAA,CAAA,CAAA,CAAA;AACf,EAAA,kBAAA;AAAA,IACE,KAAA;AAAA,IACA,QAAA;AAAA,IACA,SAAA;AAAA,IACA,gBAAA;AAAA,IACA,IAAA;AAAA,IACA,eAAA;AAAA,IACA,WAAA;AAAA,GACF,CAAA;AACA,EAAA,IAAA,CAAK,CAAU,QAAA,CAAA,CAAA,CAAA;AACjB,CAAA;AAEgB,SAAA,kBAAA,CACd,OACA,QACA,EAAA,SAAA,EACA,kBACA,IACA,EAAA,eAAA,EACA,aACA,UACA,EAAA;AACA,EAAM,MAAA,MAAA,GAAS,MAAM,QAAQ,CAAA,CAAA;AAC7B,EAAA,IAAI,MAAQ,EAAA;AACV,IAAA,MAAM,aAA8B,EAAC,CAAA;AACrC,IAAM,MAAA,YAAA,GAAe,CAAC,IAAwB,KAAA;AAC5C,MAAA,UAAA,CAAW,KAAK,IAAI,CAAA,CAAA;AAAA,KACtB,CAAA;AACA,IAAA,MAAM,GAAM,GAAA,MAAA;AAAA,MACV,SAAA;AAAA,MACA,YAAA;AAAA,MACA,eAAA;AAAA,MACA,WAAA,GAAc,MAAM,WAAc,GAAA,EAAA;AAAA,KACpC,CAAA;AACA,IAAI,IAAAC,cAAA,CAAQ,GAAG,CAAG,EAAA;AAEhB,MAAoB,mBAAA,CAAA,IAAA,EAAM,GAAK,EAAA,eAAA,EAAiB,WAAW,CAAA,CAAA;AAAA,KACtD,MAAA;AAGL,MAAA,IAAI,WAAc,GAAA,IAAA,CAAA;AAClB,MAAA,IAAI,UAAY,EAAA;AACd,QAAc,WAAA,GAAA,KAAA,CAAA;AAAA,OACT,MAAA;AACL,QAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,UAAA,CAAW,QAAQ,CAAK,EAAA,EAAA;AAC1C,UAAA,IAAI,CAAC,SAAA,CAAU,UAAW,CAAA,CAAC,CAAC,CAAG,EAAA;AAC7B,YAAc,WAAA,GAAA,KAAA,CAAA;AACd,YAAA,MAAA;AAAA,WACF;AAAA,SACF;AAAA,OACF;AACA,MAAA,IAAI,WAAa,EAAA;AACf,QAAA,IAAI,gBAAkB,EAAA;AACpB,UAAiB,gBAAA,EAAA,CAAA;AAAA,SACnB;AAAA,OACK,MAAA;AAML,QAAA,IAAI,KAAQ,GAAA,CAAA,CAAA;AACZ,QAAA,IAAI,MAAM,UAAW,CAAA,MAAA,CAAA;AACrB,QACE,IAAA,UAAA,IACA,WAAW,CAAC,CAAA,KAAM,cAClB,UAAW,CAAA,GAAA,GAAM,CAAC,CAAA,KAAM,UACxB,EAAA;AACA,UAAA,KAAA,EAAA,CAAA;AACA,UAAA,GAAA,EAAA,CAAA;AAAA,SACF;AAEA,QAAA,KAAA,IAAS,CAAI,GAAA,KAAA,EAAO,CAAI,GAAA,GAAA,EAAK,CAAK,EAAA,EAAA;AAChC,UAAK,IAAA,CAAA,UAAA,CAAW,CAAC,CAAC,CAAA,CAAA;AAAA,SACpB;AAAA,OACF;AAAA,KACF;AAAA,aACS,gBAAkB,EAAA;AAC3B,IAAiB,gBAAA,EAAA,CAAA;AAAA,GACnB;AACF,CAAA;AAEA,MAAM,aAAgB,GAAA,cAAA,CAAA;AACtB,MAAM,SAAY,GAAA,gBAAA,CAAA;AAClB,SAAS,UAAU,IAAqB,EAAA;AACtC,EAAA,IAAI,OAAO,IAAS,KAAA,QAAA,IAAY,CAAC,aAAA,CAAc,KAAK,IAAI,CAAA;AAAG,IAAO,OAAA,KAAA,CAAA;AAElE,EAAA,IAAI,KAAK,MAAU,IAAA,CAAA;AAAG,IAAO,OAAA,IAAA,CAAA;AAC7B,EAAA,OAAO,CAAC,IAAK,CAAA,OAAA,CAAQ,SAAW,EAAA,EAAE,EAAE,IAAK,EAAA,CAAA;AAC3C;;AC7GO,SAAS,iBACd,CAAA,UAAA,EACA,eACA,EAAA,MAAA,EACA,UACA,eACA,EAAA;AACA,EAAA,UAAA,CAAW,uBAAuB,CAAA,CAAA;AAElC,EAAA,MAAM,OAAU,GAAA,eAAA,CAAgB,UAAW,CAAA,QAAA,CACzCC,iBACF,CAAA,CAAA;AACA,EAAA,MAAM,eACJ,GAAA,OAAA,CAAQ,iBAAsB,KAAA,OAAA,CAAQ,oBAAoB,EAAC,CAAA,CAAA;AAC7D,EAAA,MAAM,eAAe,eAAgB,CAAA,MAAM,MAAM,eAAgB,CAAA,MAAM,IAAI,EAAC,CAAA,CAAA;AAG5E,EAAA,MAAM,cAAc,YAAa,CAAA,MAAA,CAAA;AAEjC,EAAI,IAAA,eAAA,CAAA;AAEJ,EAAA,IAAI,QAAU,EAAA;AACZ,IAAA,eAAA,CAAgB,UAAU,CAAA,CAAA;AAC1B,IAAkB,eAAA,GAAA,CAAA,sBAAA,CAAA,CAAA;AAAA,GACb,MAAA;AACL,IAAA,MAAM,EAAE,SAAA,EAAW,IAAK,EAAA,GAAI,YAAa,EAAA,CAAA;AACzC,IAAA,eAAA,CAAgB,IAAI,CAAA,CAAA;AACpB,IAAA,IAAA,CAAK,CAAwB,sBAAA,CAAA,CAAA,CAAA;AAC7B,IAAA,eAAA,GAAkB,SAAU,EAAA,CAAA;AAAA,GAC9B;AAEA,EAAa,YAAA,CAAA,MAAA,CAAO,WAAa,EAAA,CAAA,EAAG,eAAe,CAAA,CAAA;AACnD,EAAA,UAAA,CAAW,qBAAqB,CAAA,CAAA;AAClC;;ACvCO,SAAS,eAAe,KAAwB,EAAA;AACrD,EAAO,OAAAP,iBAAA,CAAWQ,sBAAgB,CAAA,KAAK,CAAC,CAAA,CAAA;AAC1C;;ACDgB,SAAA,aAAA,CACd,QACA,UACA,EAAA;AACA,EAAA,IAAIF,cAAQ,CAAA,MAAM,CAAK,IAAAJ,eAAA,CAAS,MAAM,CAAG,EAAA;AACvC,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,OAAO,MAAQ,EAAA,CAAA,GAAI,GAAG,CAAK,EAAA,EAAA;AAC7C,MAAW,UAAA,CAAA,MAAA,CAAO,CAAC,CAAA,EAAG,CAAC,CAAA,CAAA;AAAA,KACzB;AAAA,GACF,MAAA,IAAW,OAAO,MAAA,KAAW,QAAU,EAAA;AAKrC,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,MAAA,EAAQ,CAAK,EAAA,EAAA;AAC/B,MAAW,UAAA,CAAA,CAAA,GAAI,GAAG,CAAC,CAAA,CAAA;AAAA,KACrB;AAAA,GACF,MAAA,IAAWO,eAAS,CAAA,MAAM,CAAG,EAAA;AAC3B,IAAI,IAAA,MAAA,CAAO,MAAO,CAAA,QAAe,CAAG,EAAA;AAClC,MAAM,MAAA,GAAA,GAAM,KAAM,CAAA,IAAA,CAAK,MAAuB,CAAA,CAAA;AAC9C,MAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAI,MAAQ,EAAA,CAAA,GAAI,GAAG,CAAK,EAAA,EAAA;AAC1C,QAAW,UAAA,CAAA,GAAA,CAAI,CAAC,CAAA,EAAG,CAAC,CAAA,CAAA;AAAA,OACtB;AAAA,KACK,MAAA;AACL,MAAM,MAAA,IAAA,GAAO,MAAO,CAAA,IAAA,CAAK,MAAM,CAAA,CAAA;AAC/B,MAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,KAAK,MAAQ,EAAA,CAAA,GAAI,GAAG,CAAK,EAAA,EAAA;AAC3C,QAAM,MAAA,GAAA,GAAM,KAAK,CAAC,CAAA,CAAA;AAClB,QAAA,UAAA,CAAW,MAAO,CAAA,GAAG,CAAG,EAAA,GAAA,EAAK,CAAC,CAAA,CAAA;AAAA,OAChC;AAAA,KACF;AAAA,GACF;AACF;;AC/BA,eAAsB,iBACpB,CAAA,IAAA,EACA,EAAE,OAAA,EAAS,eACX,EAAA;AACA,EAAA,IAAI,aAAe,EAAA;AACjB,IAAc,aAAA,EAAA,CAAA;AAAA,GACT,MAAA;AACL,IAAA,IAAA,CAAK,CAAS,OAAA,CAAA,CAAA,CAAA;AAAA,GAChB;AACF;;ACTO,SAAS,qBACd,QACA,EAAA,GAAA,EACA,OACA,GACA,EAAA,SAAA,GAAqC,EAChB,EAAA;AACrB,EAAA,IAAI,OAAO,GAAA,KAAQ,UAAc,IAAA,GAAA,CAAI,WAAa,EAAA;AAChD,IAAA,OACE,GAAI,CAAA,WAAA;AAAA,MACF;AAAA,QACE,GAAA;AAAA,QACA,QAAA;AAAA,QACA,KAAA;AAAA,QACA,QAAU,EAAA,KAAA,CAAA;AAAA,QACV,GAAA;AAAA,QACA,SAAA;AAAA,OACF;AAAA,MACA,IAAA;AAAA,SACG,EAAC,CAAA;AAAA,GAEV;AACA,EAAA,OAAO,EAAC,CAAA;AACV;;ACtBO,MAAM,aAAgB,GAAAC,kBAAA;AAEb,SAAA,eAAA,CAAgB,KAAgB,KAAyB,EAAA;AACvE,EAAO,OAAAC,mBAAA,CAAa,GAAK,EAAA,KAAK,CAAI,GAAA,CAAA,CAAA,CAAA;AACpC,CAAA;AAGgB,SAAA,qBAAA,CACd,IACA,EAAA,KAAA,EACA,KACA,EAAA;AACA,EAAA,QAAQ,IAAM;AAAA,IACZ,KAAK,OAAA;AACH,MAAA,OAAOD,iBAAW,CAAA,KAAA,EAAO,KAAK,CAAA,GAAI,UAAa,GAAA,EAAA,CAAA;AAAA,IACjD,KAAK,UAAA;AACH,MAAQ,OAAA,CAAAJ,cAAA,CAAQ,KAAK,CAAI,GAAA,eAAA,CAAgB,OAAO,KAAK,CAAA,GAAI,SACrD,UACA,GAAA,EAAA,CAAA;AAAA,IACN;AAEE,MAAO,OAAA,aAAA,CAAc,SAAS,KAAK,CAAA,CAAA;AAAA,GACvC;AACF,CAAA;AAGO,SAAS,uBACd,CAAA,aAAA,GAAqB,EAAC,EACtB,KACA,EAAA;AACA,EAAM,MAAA,EAAE,IAAM,EAAA,KAAA,EAAU,GAAA,aAAA,CAAA;AACxB,EAAA,QAAQ,IAAM;AAAA,IACZ,KAAK,OAAA;AACH,MAAA,OAAOI,kBAAW,KAAO,EAAA,KAAK,IAAI,EAAE,OAAA,EAAS,MAAS,GAAA,IAAA,CAAA;AAAA,IACxD,KAAK,UAAA;AACH,MAAQ,OAAA,CAAAJ,cAAA,CAAQ,KAAK,CAAA,GAAI,eAAgB,CAAA,KAAA,EAAO,KAAK,CAAA,GAAI,KACrD,IAAA,EAAE,OAAS,EAAA,IAAA,EACX,GAAA,IAAA,CAAA;AAAA,IACN;AAEE,MAAO,OAAA,EAAE,OAAO,KAAM,EAAA,CAAA;AAAA,GAC1B;AACF;;;;;;;;;;;;;;;;;;;;;;;;;AC1BA,MAAM,YAAA,mBAAyD,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAE1D,SAAA,UAAA,CACd,UACA,QACmB,EAAA;AAWnB,EAAA,MAAM,YAAY,QAAS,CAAA,IAAA,CAAA;AAC3B,EAAA,MAAM,EAAE,eAAA,EAAiB,eAAgB,EAAA,GAAI,SAAS,UAAW,CAAA,MAAA,CAAA;AACjE,EAAA,MAAM,EAAE,UAAA,EAAY,eAAiB,EAAA,wBAAA,EAA6B,GAAA,SAAA,CAAA;AAElE,EAAA,MAAM,oBAAwC,GAAAM,aAAA;AAAA,IAC5CA,aAAA;AAAA,MACE;AAAA,QACE,eAAA;AAAA,QACA,UAAA;AAAA,OACF;AAAA,MACA,eAAA;AAAA,KACF;AAAA,IACA,wBAAA;AAAA,GACF,CAAA;AAEA,EAAqB,oBAAA,CAAA,eAAA,GACnB,qBAAqB,eAAmB,IAAAC,SAAA,CAAA;AAC1C,EAAqB,oBAAA,CAAA,WAAA,GAAc,qBAAqB,WAAe,IAAAA,SAAA,CAAA;AAEvE,EAAA,MAAM,WAAW,IAAK,CAAA,SAAA;AAAA,IACpB;AAAA,MACE,QAAA;AAAA,MACA,eAAiB,EAAA,oBAAA;AAAA,KACnB;AAAA,IACA,CAAC,KAAK,KAAU,KAAA;AACd,MAAA,OAAOC,iBAAW,CAAA,KAAK,CAAI,GAAA,KAAA,CAAM,UAAa,GAAA,KAAA,CAAA;AAAA,KAChD;AAAA,GACF,CAAA;AAEA,EAAM,MAAA,MAAA,GAAS,aAAa,QAAQ,CAAA,CAAA;AACpC,EAAA,IAAI,MAAQ,EAAA;AACV,IAAO,OAAA,MAAA,CAAA;AAAA,GACT;AAEA,EAAqB,oBAAA,CAAA,OAAA,GAAU,CAAC,GAAuB,KAAA;AACrD,IAUO;AACL,MAAM,MAAA,GAAA,CAAA;AAAA,KACR;AAAA,GACF,CAAA;AAEA,EAAA,MAAM,EAAE,IAAA,EAAS,GAAAC,mBAAA,CAAQ,UAAU,oBAAoB,CAAA,CAAA;AACvD,EAAA,MAAM,UAAa,GAAA;AAAA,IACjB,GAAK,EAAAC,cAAA;AAAA,IACL,qBAAuB,EAAA,OAAA;AAAA,GACzB,CAAA;AACA,EAAA,MAAM,WAAc,GAAA,CAAC,EAAsC,KAAA,UAAA,CAAW,EAAE,CAAA,CAAA;AACxE,EAAA,OAAQ,aAAa,QAAQ,CAAA,GAAI,SAAS,SAAW,EAAA,IAAI,EAAE,WAAW,CAAA,CAAA;AACxE;;AC7DA,MAAM;AAAA,EACJ,uBAAA;AAAA,EACA,2BAAA;AAAA,EACA,cAAA;AAAA,EACA,mBAAA;AAAA,EACA,cAAA;AACF,CAAI,GAAAC,YAAA,CAAA;AA0BG,SAAS,YAAe,GAAA;AAC7B,EAAA,IAAI,UAAa,GAAA,KAAA,CAAA;AACjB,EAAA,MAAM,SAAoB,EAAC,CAAA;AAC3B,EAAO,OAAA;AAAA,IACL,SAAuB,GAAA;AAErB,MAAO,OAAA,MAAA,CAAA;AAAA,KACT;AAAA,IACA,KAAK,IAAqB,EAAA;AACxB,MAAM,MAAA,YAAA,GAAef,gBAAS,IAAI,CAAA,CAAA;AAClC,MAAA,IAAI,cAAc,YAAc,EAAA;AAC9B,QAAO,MAAA,CAAA,MAAA,CAAO,MAAS,GAAA,CAAC,CAAK,IAAA,IAAA,CAAA;AAAA,OACxB,MAAA;AACL,QAAA,MAAA,CAAO,KAAK,IAAI,CAAA,CAAA;AAAA,OAClB;AACA,MAAa,UAAA,GAAA,YAAA,CAAA;AACb,MAAA,IAAIgB,iBAAU,IAAI,CAAA,IAAMZ,eAAQ,IAAI,CAAA,IAAK,KAAK,QAAW,EAAA;AAGvD,QAAA,MAAA,CAAO,QAAW,GAAA,IAAA,CAAA;AAAA,OACpB;AAAA,KACF;AAAA,GACF,CAAA;AACF,CAAA;AAEO,SAAS,oBACd,CAAA,KAAA,EACA,eAAoD,GAAA,IAAA,EACpD,WACgC,EAAA;AAChC,EAAA,MAAM,QAAW,GAAA,uBAAA,CAAwB,KAAO,EAAA,eAAA,EAAiB,IAAI,CAAA,CAAA;AACrE,EAAA,MAAM,GAAM,GAAA,cAAA;AAAA,IAAe,QAAA;AAAA,IAAU,IAAA;AAAA;AAAA,GAAgB,CAAA;AACrD,EAAM,MAAA,aAAA,GAAgBY,iBAAU,GAAG,CAAA,CAAA;AACnC,EAAA,MAAM,aAAa,QAAS,CAAA,EAAA,CAAA;AAC5B,EAAA,IAAI,iBAAiB,UAAY,EAAA;AAC/B,IAAA,IAAI,CAAsB,GAAA,aAAA,GACrB,GACD,GAAA,OAAA,CAAQ,OAAQ,EAAA,CAAA;AACpB,IAAA,IAAI,UAAY,EAAA;AACd,MAAA,CAAA,GAAI,CACD,CAAA,IAAA;AAAA,QAAK,MACJ,OAAQ,CAAA,GAAA;AAAA,UACN,WAAW,GAAI,CAAA,CAAA,QAAA,KAAY,SAAS,IAAK,CAAA,QAAA,CAAS,KAAK,CAAC,CAAA;AAAA,SAC1D;AAAA,OACF,CAEC,MAAMC,WAAI,CAAA,CAAA;AAAA,KACf;AACA,IAAA,OAAO,EAAE,IAAK,CAAA,MAAM,sBAAuB,CAAA,QAAA,EAAU,WAAW,CAAC,CAAA,CAAA;AAAA,GAC5D,MAAA;AACL,IAAO,OAAA,sBAAA,CAAuB,UAAU,WAAW,CAAA,CAAA;AAAA,GACrD;AACF,CAAA;AAEA,SAAS,sBAAA,CACP,UACA,WACgC,EAAA;AAChC,EAAA,MAAM,OAAO,QAAS,CAAA,IAAA,CAAA;AACtB,EAAA,MAAM,EAAE,SAAA,EAAW,IAAK,EAAA,GAAI,YAAa,EAAA,CAAA;AACzC,EAAI,IAAAL,iBAAA,CAAW,IAAI,CAAG,EAAA;AACpB,IAAI,IAAA,IAAA,GAAO,oBAAoB,QAAQ,CAAA,CAAA;AAGvC,IAAI,IAAA,CAAE,KAA6B,KAAO,EAAA;AACxC,MAAW,KAAA,MAAA,GAAA,IAAO,SAAS,KAAO,EAAA;AAChC,QAAI,IAAA,GAAA,CAAI,UAAW,CAAA,CAAA,OAAA,CAAS,CAAG,EAAA;AAC5B,UAAA,CAAC,KAAK,KAAU,KAAA,IAAA,CAAK,QAAQ,EAAC,CAAA,EAAI,GAAG,CAAI,GAAA,CAAA,CAAA,CAAA;AAAA,SAC5C;AAAA,OACF;AAAA,KACF;AACA,IAAA,WAAA,CAAY,IAAO,EAAA,QAAA,CAAS,OAAU,GAAA,IAAA,EAAO,UAAU,WAAW,CAAA,CAAA;AAAA,GAC7D,MAAA;AACL,IAAA,IAAA,CACG,CAAC,QAAA,CAAS,MAAU,IAAA,QAAA,CAAS,WAAWK,WACzC,KAAA,CAAC,QAAS,CAAA,SAAA,IACV,CAAC,IAAK,CAAA,SAAA,IACNjB,eAAS,CAAA,IAAA,CAAK,QAAQ,CACtB,EAAA;AACA,MAAA,IAAA,CAAK,SAAY,GAAA,UAAA,CAAW,IAAK,CAAA,QAAA,EAAU,QAAQ,CAAA,CAAA;AAAA,KACrD;AAIA,IAAW,KAAA,MAAA,CAAA,IAAK,QAAS,CAAA,KAAA,CAAM,OAAS,EAAA;AACtC,MAAA,IAAI,EAAE,QAAU,EAAA;AACd,QAAA,CAAA,CAAE,SAAS,MAAS,GAAA,IAAA,CAAA;AACpB,QAAA,CAAA,CAAE,SAAS,UAAa,GAAA,IAAA,CAAA;AAAA,OAC1B;AAAA,KACF;AAEA,IAAM,MAAA,SAAA,GAAY,QAAS,CAAA,SAAA,IAAa,IAAK,CAAA,SAAA,CAAA;AAC7C,IAAA,IAAI,SAAW,EAAA;AAGb,MAAA,IAAI,KAAQ,GAAA,QAAA,CAAS,YAAiB,KAAA,KAAA,GAAQ,SAAS,KAAQ,GAAA,KAAA,CAAA,CAAA;AAC/D,MAAA,IAAI,SAAY,GAAA,KAAA,CAAA;AAEhB,MAAA,IAAI,GAAM,GAAA,QAAA,CAAA;AACV,MAAA,OAAO,IAAM,EAAA;AACX,QAAM,MAAA,OAAA,GAAU,IAAI,KAAM,CAAA,OAAA,CAAA;AAC1B,QAAA,IAAI,OAAS,EAAA;AACX,UAAA,IAAI,CAAC,SAAW,EAAA;AACd,YAAQ,KAAA,GAAA,EAAE,GAAG,KAAM,EAAA,CAAA;AACnB,YAAY,SAAA,GAAA,IAAA,CAAA;AAAA,WACd;AACA,UAAA,KAAA,CAAO,OAAO,CAAI,GAAA,EAAA,CAAA;AAAA,SACpB;AACA,QAAA,MAAM,SAAS,GAAI,CAAA,MAAA,CAAA;AACnB,QAAA,IAAI,UAAU,MAAO,CAAA,OAAA,IAAW,MAAO,CAAA,OAAA,KAAY,IAAI,KAAO,EAAA;AAG5D,UAAM,GAAA,GAAA,MAAA,CAAA;AAAA,SACD,MAAA;AACL,UAAA,MAAA;AAAA,SACF;AAAA,OACF;AAEA,MAAA,IAAI,WAAa,EAAA;AACf,QAAA,IAAI,CAAC,SAAA;AAAW,UAAQ,KAAA,GAAA,EAAE,GAAG,KAAM,EAAA,CAAA;AACnC,QAAO,KAAA,CAAA,WAAA,CAAY,IAAK,EAAC,CAAI,GAAA,EAAA,CAAA;AAAA,OAC/B;AAGA,MAAM,MAAA,IAAA,GAAO,4BAA4B,QAAQ,CAAA,CAAA;AACjD,MAAI,IAAA;AACF,QAAA,SAAA;AAAA,UACE,QAAS,CAAA,KAAA;AAAA,UACT,IAAA;AAAA,UACA,QAAA;AAAA,UACA,KAAA;AAAA;AAAA,UAEA,QAAS,CAAA,KAAA;AAAA,UACT,QAAS,CAAA,UAAA;AAAA,UACT,QAAS,CAAA,IAAA;AAAA,UACT,QAAS,CAAA,GAAA;AAAA,SACX,CAAA;AAAA,OACA,SAAA;AACA,QAAA,2BAAA,CAA4B,IAAI,CAAA,CAAA;AAAA,OAClC;AAAA,KACS,MAAA,IAAA,QAAA,CAAS,MAAU,IAAA,QAAA,CAAS,WAAWiB,WAAM,EAAA;AACtD,MAAA,WAAA;AAAA,QACE,IAAA;AAAA,QACC,QAAA,CAAS,OAAU,GAAA,mBAAA,CAAoB,QAAQ,CAAA;AAAA,QAChD,QAAA;AAAA,QACA,WAAA;AAAA,OACF,CAAA;AAAA,KACK,MAAA;AACL,MAAA,MAAM,aAAgB,GAAA,IAAA,CAAK,IAAQ,IAAA,IAAA,CAAK,MAAU,IAAA,CAAA,WAAA,CAAA,CAAA;AAClD,MAAKC,QAAA,CAAA,CAAA,UAAA,EAAa,aAAa,CAA0C,wCAAA,CAAA,CAAA,CAAA;AACzE,MAAA,IAAA,CAAK,CAAS,OAAA,CAAA,CAAA,CAAA;AAAA,KAChB;AAAA,GACF;AACA,EAAA,OAAO,SAAU,EAAA,CAAA;AACnB,CAAA;AAEO,SAAS,WACd,CAAA,IAAA,EACA,KACA,EAAA,eAAA,EACA,WACA,EAAA;AACA,EAAA,MAAM,EAAE,IAAA,EAAM,SAAW,EAAA,QAAA,EAAa,GAAA,KAAA,CAAA;AACtC,EAAA,QAAQ,IAAM;AAAA,IACZ,KAAKC,QAAA;AACH,MAAK,IAAA,CAAArB,iBAAA,CAAW,QAAkB,CAAC,CAAA,CAAA;AACnC,MAAA,MAAA;AAAA,IACF,KAAKsB,WAAA;AACH,MAAA,IAAA;AAAA,QACE,QACI,GAAA,CAAA,IAAA,EAAOC,wBAAkB,CAAA,QAAkB,CAAC,CAC5C,GAAA,CAAA,GAAA,CAAA,OAAA,CAAA;AAAA,OACN,CAAA;AACA,MAAA,MAAA;AAAA,IACF,KAAKC,UAAA;AACH,MAAA,IAAA,CAAK,QAAkB,CAAA,CAAA;AACvB,MAAA,MAAA;AAAA,IACF,KAAKC,YAAA;AACH,MAAA,IAAI,MAAM,YAAc,EAAA;AACtB,QAAA,WAAA,GAAA,CACG,cAAc,WAAc,GAAA,GAAA,GAAM,MAAM,KAAM,CAAA,YAAA,CAAa,KAAK,GAAG,CAAA,CAAA;AAAA,OACxE;AACA,MAAA,IAAA,CAAK,CAAU,QAAA,CAAA,CAAA,CAAA;AACf,MAAA,mBAAA;AAAA,QACE,IAAA;AAAA,QACA,QAAA;AAAA,QACA,eAAA;AAAA,QACA,WAAA;AAAA,OACF,CAAA;AACA,MAAA,IAAA,CAAK,CAAU,QAAA,CAAA,CAAA,CAAA;AACf,MAAA,MAAA;AAAA,IACF;AACE,MAAA,IAAI,YAAY,CAAoB,EAAA;AAClC,QAAmB,kBAAA,CAAA,IAAA,EAAM,KAAO,EAAA,eAAA,EAAiB,WAAW,CAAA,CAAA;AAAA,OAC9D,MAAA,IAAW,YAAY,CAAsB,EAAA;AAC3C,QAAA,IAAA,CAAK,oBAAqB,CAAA,KAAA,EAAO,eAAiB,EAAA,WAAW,CAAC,CAAA,CAAA;AAAA,OAChE,MAAA,IAAW,YAAY,EAAqB,EAAA;AAC1C,QAAoB,mBAAA,CAAA,IAAA,EAAM,KAAO,EAAA,eAAA,EAAiB,WAAW,CAAA,CAAA;AAAA,OAC/D,MAAA,IAAW,YAAY,GAAqB,EAAA;AAC1C,QAAA,WAAA,CAAY,IAAM,EAAA,KAAA,CAAM,SAAY,EAAA,eAAA,EAAiB,WAAW,CAAA,CAAA;AAAA,OAC3D,MAAA;AACL,QAAAL,QAAA;AAAA,UACE,4CAAA;AAAA,UACA,IAAA;AAAA,UACA,CAAA,CAAA,EAAI,OAAO,IAAI,CAAA,CAAA,CAAA;AAAA,SACjB,CAAA;AAAA,OACF;AAAA,GACJ;AACF,CAAA;AAEO,SAAS,mBACd,CAAA,IAAA,EACA,QACA,EAAA,eAAA,EACA,WACA,EAAA;AACA,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,QAAA,CAAS,QAAQ,CAAK,EAAA,EAAA;AACxC,IAAA,WAAA,CAAY,MAAM,cAAe,CAAA,QAAA,CAAS,CAAC,CAAC,CAAA,EAAG,iBAAiB,WAAW,CAAA,CAAA;AAAA,GAC7E;AACF,CAAA;AAEA,SAAS,kBACP,CAAA,IAAA,EACA,KACA,EAAA,eAAA,EACA,WACA,EAAA;AACA,EAAA,MAAM,MAAM,KAAM,CAAA,IAAA,CAAA;AAClB,EAAA,IAAI,EAAE,KAAO,EAAA,QAAA,EAAU,SAAW,EAAA,OAAA,EAAS,MAAS,GAAA,KAAA,CAAA;AACpD,EAAI,IAAA,OAAA,GAAU,IAAI,GAAG,CAAA,CAAA,CAAA;AAErB,EAAA,IAAI,IAAM,EAAA;AACR,IAAQ,KAAA,GAAA,kBAAA,CAAmB,KAAO,EAAA,KAAA,EAAO,IAAI,CAAA,CAAA;AAAA,GAC/C;AAEA,EAAA,IAAI,KAAO,EAAA;AACT,IAAW,OAAA,IAAA,cAAA,CAAe,OAAO,GAAG,CAAA,CAAA;AAAA,GACtC;AAEA,EAAA,IAAI,OAAS,EAAA;AACX,IAAA,OAAA,IAAW,IAAI,OAAO,CAAA,CAAA,CAAA;AAAA,GACxB;AAEA,EAAA,IAAI,SAA8C,GAAA,eAAA,CAAA;AAClD,EAAA,IAAI,QAAW,GAAA,KAAA,CAAA;AACf,EAAO,OAAA,SAAA,IAAa,QAAa,KAAA,SAAA,CAAU,OAAS,EAAA;AAClD,IAAA,QAAA,GAAW,SAAU,CAAA,KAAA,CAAA;AACrB,IAAA,IAAI,SAAS,OAAS,EAAA;AACpB,MAAW,OAAA,IAAA,CAAA,CAAA,EAAI,SAAS,OAAO,CAAA,CAAA,CAAA;AAAA,KACjC;AACA,IAAA,SAAA,GAAY,SAAU,CAAA,MAAA,CAAA;AAAA,GACxB;AACA,EAAA,IAAI,WAAa,EAAA;AACf,IAAA,OAAA,IAAW,IAAI,WAAW,CAAA,CAAA,CAAA;AAAA,GAC5B;AAEA,EAAA,IAAA,CAAK,UAAU,CAAG,CAAA,CAAA,CAAA,CAAA;AAClB,EAAI,IAAA,CAACM,gBAAU,CAAA,GAAG,CAAG,EAAA;AACnB,IAAA,IAAI,mBAAsB,GAAA,KAAA,CAAA;AAC1B,IAAA,IAAI,KAAO,EAAA;AACT,MAAA,IAAI,MAAM,SAAW,EAAA;AACnB,QAAsB,mBAAA,GAAA,IAAA,CAAA;AACtB,QAAA,IAAA,CAAK,MAAM,SAAS,CAAA,CAAA;AAAA,OACtB,MAAA,IAAW,MAAM,WAAa,EAAA;AAC5B,QAAsB,mBAAA,GAAA,IAAA,CAAA;AACtB,QAAK,IAAA,CAAA1B,iBAAA,CAAW,KAAM,CAAA,WAAW,CAAC,CAAA,CAAA;AAAA,OACzB,MAAA,IAAA,GAAA,KAAQ,UAAc,IAAA,KAAA,CAAM,KAAO,EAAA;AAC5C,QAAsB,mBAAA,GAAA,IAAA,CAAA;AACtB,QAAK,IAAA,CAAAA,iBAAA,CAAW,KAAM,CAAA,KAAK,CAAC,CAAA,CAAA;AAAA,OAC9B;AAAA,KACF;AACA,IAAA,IAAI,CAAC,mBAAqB,EAAA;AACxB,MAAA,IAAI,YAAY,CAA0B,EAAA;AACxC,QAAK,IAAA,CAAAA,iBAAA,CAAW,QAAkB,CAAC,CAAA,CAAA;AAAA,OACrC,MAAA,IAAW,YAAY,EAA2B,EAAA;AAChD,QAAA,mBAAA;AAAA,UACE,IAAA;AAAA,UACA,QAAA;AAAA,UACA,eAAA;AAAA,UACA,WAAA;AAAA,SACF,CAAA;AAAA,OACF;AAAA,KACF;AACA,IAAK,IAAA,CAAA,CAAA,EAAA,EAAK,GAAG,CAAG,CAAA,CAAA,CAAA,CAAA;AAAA,GAClB;AACF,CAAA;AAEA,SAAS,kBAAA,CACP,KACA,EAAA,QAAA,EACA,IACY,EAAA;AACZ,EAAA,MAAM,UAAwB,EAAC,CAAA;AAC/B,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,IAAA,CAAK,QAAQ,CAAK,EAAA,EAAA;AACpC,IAAM,MAAA,OAAA,GAAU,KAAK,CAAC,CAAA,CAAA;AACtB,IAAM,MAAA;AAAA,MACJ,GAAA,EAAK,EAAE,WAAY,EAAA;AAAA,KACjB,GAAA,OAAA,CAAA;AACJ,IAAA,IAAI,WAAa,EAAA;AACf,MAAM,MAAA,KAAA,GAAQ,WAAY,CAAA,OAAA,EAAS,KAAK,CAAA,CAAA;AACxC,MAAI,IAAA,KAAA;AAAO,QAAA,OAAA,CAAQ,KAAK,KAAK,CAAA,CAAA;AAAA,KAC/B;AAAA,GACF;AACA,EAAA,OAAO2B,cAAW,CAAA,QAAA,IAAY,EAAC,EAAG,GAAG,OAAO,CAAA,CAAA;AAC9C,CAAA;AAEA,SAAS,mBACP,CAAA,IAAA,EACA,KACA,EAAA,eAAA,EACA,WACA,EAAA;AACA,EAAA,MAAM,MAAS,GAAA,KAAA,CAAM,KAAS,IAAA,KAAA,CAAM,KAAM,CAAA,EAAA,CAAA;AAC1C,EAAA,MAAM,QAAW,GAAA,KAAA,CAAM,KAAS,IAAA,KAAA,CAAM,KAAM,CAAA,QAAA,CAAA;AAC5C,EAAA,IAAI,CAAC,MAAQ,EAAA;AACX,IAAA,IAAI,CAAC,QAAU,EAAA;AACb,MAAAP,QAAA,CAAK,CAAyD,uDAAA,CAAA,CAAA,CAAA;AAAA,KAChE;AACA,IAAA,OAAO,EAAC,CAAA;AAAA,GACV;AACA,EAAI,IAAA,CAAClB,eAAS,CAAA,MAAM,CAAG,EAAA;AACrB,IAAAkB,QAAA;AAAA,MACE,CAAA,uEAAA,CAAA;AAAA,KACF,CAAA;AACA,IAAA,OAAO,EAAC,CAAA;AAAA,GACV;AACA,EAAA,iBAAA;AAAA,IACE,IAAA;AAAA,IACA,CAAAQ,KAAQ,KAAA;AACN,MAAA,mBAAA;AAAA,QACEA,KAAAA;AAAA,QACA,KAAM,CAAA,QAAA;AAAA,QACN,eAAA;AAAA,QACA,WAAA;AAAA,OACF,CAAA;AAAA,KACF;AAAA,IACA,MAAA;AAAA,IACA,YAAY,QAAa,KAAA,EAAA;AAAA,IACzB,eAAA;AAAA,GACF,CAAA;AACF;;ACxYA,MAAM,WAAEC,WAAY,GAAAZ,YAAA,CAAA;AAEpB,eAAea,eAAa,MAAoC,EAAA;AAC9D,EAAA,IAAI,OAAO,QAAU,EAAA;AACnB,IAAA,IAAI,GAAM,GAAA,EAAA,CAAA;AACV,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,MAAA,CAAO,QAAQ,CAAK,EAAA,EAAA;AACtC,MAAI,IAAA,IAAA,GAAO,OAAO,CAAC,CAAA,CAAA;AACnB,MAAI,IAAAZ,gBAAA,CAAU,IAAI,CAAG,EAAA;AACnB,QAAA,IAAA,GAAO,MAAM,IAAA,CAAA;AAAA,OACf;AACA,MAAI,IAAAhB,eAAA,CAAS,IAAI,CAAG,EAAA;AAClB,QAAO,GAAA,IAAA,IAAA,CAAA;AAAA,OACF,MAAA;AACL,QAAO,GAAA,IAAA,MAAM4B,eAAa,IAAI,CAAA,CAAA;AAAA,OAChC;AAAA,KACF;AACA,IAAO,OAAA,GAAA,CAAA;AAAA,GACF,MAAA;AAGL,IAAA,OAAOC,mBAAiB,MAAM,CAAA,CAAA;AAAA,GAChC;AACF,CAAA;AAEA,SAASA,mBAAiB,MAA2B,EAAA;AACnD,EAAA,IAAI,GAAM,GAAA,EAAA,CAAA;AACV,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,MAAA,CAAO,QAAQ,CAAK,EAAA,EAAA;AACtC,IAAI,IAAA,IAAA,GAAO,OAAO,CAAC,CAAA,CAAA;AACnB,IAAI,IAAA7B,eAAA,CAAS,IAAI,CAAG,EAAA;AAClB,MAAO,GAAA,IAAA,IAAA,CAAA;AAAA,KACF,MAAA;AAEL,MAAA,GAAA,IAAO6B,mBAAiB,IAAiB,CAAA,CAAA;AAAA,KAC3C;AAAA,GACF;AACA,EAAO,OAAA,GAAA,CAAA;AACT,CAAA;AAEA,eAAsB,cACpB,CAAA,KAAA,EACA,OAAsB,GAAA,EACL,EAAA;AACjB,EAAI,IAAAF,SAAA,CAAQ,KAAK,CAAG,EAAA;AAElB,IAAO,OAAA,cAAA,CAAeG,cAAU,EAAE,MAAA,EAAQ,MAAM,KAAM,EAAC,GAAG,OAAO,CAAA,CAAA;AAAA,GACnE;AAGA,EAAA,MAAM,KAAQ,GAAA3B,eAAA,CAAY,KAAM,CAAA,UAAA,EAAY,MAAM,MAAM,CAAA,CAAA;AACxD,EAAA,KAAA,CAAM,aAAa,KAAM,CAAA,QAAA,CAAA;AAEzB,EAAM,KAAA,CAAA,OAAA,CAAQE,mBAAe,OAAO,CAAA,CAAA;AACpC,EAAM,MAAA,MAAA,GAAS,MAAM,oBAAA,CAAqB,KAAK,CAAA,CAAA;AAE/C,EAAM,MAAA,MAAA,GAAS,MAAMuB,cAAA,CAAa,MAAmB,CAAA,CAAA;AAErD,EAAA,MAAM,iBAAiB,OAAO,CAAA,CAAA;AAE9B,EAAA,IAAI,QAAQ,gBAAkB,EAAA;AAC5B,IAAW,KAAA,MAAA,OAAA,IAAW,QAAQ,gBAAkB,EAAA;AAC9C,MAAQ,OAAA,EAAA,CAAA;AAAA,KACV;AAAA,GACF;AAEA,EAAO,OAAA,MAAA,CAAA;AACT,CAAA;AAEA,eAAsB,iBAAiB,OAAqB,EAAA;AAC1D,EAAA,IAAI,QAAQ,iBAAmB,EAAA;AAC7B,IAAQ,OAAA,CAAA,SAAA,GAAY,OAAQ,CAAA,SAAA,IAAa,EAAC,CAAA;AAC1C,IAAW,KAAA,MAAA,GAAA,IAAO,QAAQ,iBAAmB,EAAA;AAG3C,MAAQ,OAAA,CAAA,SAAA,CAAU,GAAG,CAAA,GAAI,MAAMA,cAAA;AAAA,QAC7B,MAAM,QAAQ,GAAI,CAAA,CAAC,QAAQ,iBAAkB,CAAA,GAAG,CAAC,CAAC,CAAA;AAAA,OACpD,CAAA;AAAA,KACF;AAAA,GACF;AACF;;AC5EA,MAAM,EAAE,SAAY,GAAAb,YAAA,CAAA;AAOpB,eAAe,YAAA,CACb,QACA,MACe,EAAA;AACf,EAAA,IAAI,OAAO,QAAU,EAAA;AACnB,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,MAAA,CAAO,QAAQ,CAAK,EAAA,EAAA;AACtC,MAAI,IAAA,IAAA,GAAO,OAAO,CAAC,CAAA,CAAA;AACnB,MAAI,IAAAC,gBAAA,CAAU,IAAI,CAAG,EAAA;AACnB,QAAA,IAAA,GAAO,MAAM,IAAA,CAAA;AAAA,OACf;AACA,MAAI,IAAAhB,eAAA,CAAS,IAAI,CAAG,EAAA;AAClB,QAAA,MAAA,CAAO,KAAK,IAAI,CAAA,CAAA;AAAA,OACX,MAAA;AACL,QAAM,MAAA,YAAA,CAAa,MAAM,MAAM,CAAA,CAAA;AAAA,OACjC;AAAA,KACF;AAAA,GACK,MAAA;AAGL,IAAA,gBAAA,CAAiB,QAAQ,MAAM,CAAA,CAAA;AAAA,GACjC;AACF,CAAA;AAEA,SAAS,gBAAA,CAAiB,QAAmB,MAAwB,EAAA;AACnE,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,MAAA,CAAO,QAAQ,CAAK,EAAA,EAAA;AACtC,IAAI,IAAA,IAAA,GAAO,OAAO,CAAC,CAAA,CAAA;AACnB,IAAI,IAAAA,eAAA,CAAS,IAAI,CAAG,EAAA;AAClB,MAAA,MAAA,CAAO,KAAK,IAAI,CAAA,CAAA;AAAA,KACX,MAAA;AAEL,MAAA,gBAAA,CAAiB,MAAmB,MAAM,CAAA,CAAA;AAAA,KAC5C;AAAA,GACF;AACF,CAAA;AAEgB,SAAA,oBAAA,CACd,KACA,EAAA,OAAA,EACA,MACG,EAAA;AACH,EAAI,IAAA,OAAA,CAAQ,KAAK,CAAG,EAAA;AAElB,IAAO,OAAA,oBAAA;AAAA,MACL8B,aAAU,CAAA,EAAE,MAAQ,EAAA,MAAM,OAAO,CAAA;AAAA,MACjC,OAAA;AAAA,MACA,MAAA;AAAA,KACF,CAAA;AAAA,GACF;AAGA,EAAA,MAAM,KAAQ,GAAA3B,eAAA,CAAY,KAAM,CAAA,UAAA,EAAY,MAAM,MAAM,CAAA,CAAA;AACxD,EAAA,KAAA,CAAM,aAAa,KAAM,CAAA,QAAA,CAAA;AAEzB,EAAM,KAAA,CAAA,OAAA,CAAQE,mBAAe,OAAO,CAAA,CAAA;AAEpC,EAAA,OAAA,CAAQ,QAAQ,oBAAqB,CAAA,KAAK,CAAC,CACxC,CAAA,IAAA,CAAK,YAAU,YAAa,CAAA,MAAA,EAAQ,MAAM,CAAC,CAAA,CAC3C,KAAK,MAAM,gBAAA,CAAiB,OAAO,CAAC,CAAA,CACpC,KAAK,MAAM;AACV,IAAA,IAAI,QAAQ,gBAAkB,EAAA;AAC5B,MAAW,KAAA,MAAA,OAAA,IAAW,QAAQ,gBAAkB,EAAA;AAC9C,QAAQ,OAAA,EAAA,CAAA;AAAA,OACV;AAAA,KACF;AAAA,GACD,CACA,CAAA,IAAA,CAAK,MAAM,MAAA,CAAO,KAAK,IAAI,CAAC,CAC5B,CAAA,KAAA,CAAM,CAAS,KAAA,KAAA;AACd,IAAA,MAAA,CAAO,QAAQ,KAAK,CAAA,CAAA;AAAA,GACrB,CAAA,CAAA;AAEH,EAAO,OAAA,MAAA,CAAA;AACT,CAAA;AAKO,SAAS,cACd,CAAA,KAAA,EACA,OAAsB,GAAA,EACZ,EAAA;AACV,EAAQ,OAAA,CAAA,IAAA;AAAA,IACN,CAAA,qFAAA,CAAA;AAAA,GACF,CAAA;AACA,EAAO,OAAA,kBAAA,CAAmB,OAAO,OAAO,CAAA,CAAA;AAC1C,CAAA;AAEO,SAAS,kBACd,CAAA,KAAA,EACA,OAAsB,GAAA,EACZ,EAAA;AACV,EAAM,MAAA,MAAA,GACF,IAAK,CAAA,OAAA,CAAQ,aAAa,CAAE,EAAA,QAAA,CAAU,EAAE,IAAO,GAAA;AAAA,GAAC,EAAG,CACnD,CAAA,CAAA;AAEJ,EAAA,IAAI,CAAC,MAAQ,EAAA;AACX,IAAA,MAAM,IAAI,KAAA;AAAA,MACR,CAAA,wJAAA,CAAA;AAAA,KAGF,CAAA;AAAA,GACF;AAEA,EAAO,OAAA,oBAAA,CAAqB,KAAO,EAAA,OAAA,EAAS,MAAM,CAAA,CAAA;AACpD,CAAA;AAEO,SAAS,kBACd,CAAA,KAAA,EACA,OAAsB,GAAA,IACtB,QACA,EAAA;AACA,EAAA,oBAAA,CAAqB,OAAO,OAAS,EAAA;AAAA,IACnC,KAAK,OAAS,EAAA;AACZ,MAAA,IAAI,WAAW,IAAM,EAAA;AACnB,QAAA,QAAA,CAAS,MAAM,OAAO,CAAA,CAAA;AAAA,OACjB,MAAA;AACL,QAAA,QAAA,CAAS,GAAI,EAAA,CAAA;AAAA,OACf;AAAA,KACF;AAAA,IACA,QAAQ,GAAK,EAAA;AACX,MAAA,QAAA,CAAS,QAAQ,GAAG,CAAA,CAAA;AAAA,KACtB;AAAA,GACD,CAAA,CAAA;AACH,CAAA;AAEO,SAAS,iBACd,CAAA,KAAA,EACA,OAAsB,GAAA,EACN,EAAA;AAChB,EAAI,IAAA,OAAO,mBAAmB,UAAY,EAAA;AACxC,IAAA,MAAM,IAAI,KAAA;AAAA,MACR,CAAA,yMAAA,CAAA;AAAA,KAGF,CAAA;AAAA,GACF;AAEA,EAAM,MAAA,OAAA,GAAU,IAAI,WAAY,EAAA,CAAA;AAChC,EAAA,IAAI,SAAY,GAAA,KAAA,CAAA;AAEhB,EAAA,OAAO,IAAI,cAAe,CAAA;AAAA,IACxB,MAAM,UAAY,EAAA;AAChB,MAAA,oBAAA,CAAqB,OAAO,OAAS,EAAA;AAAA,QACnC,KAAK,OAAS,EAAA;AACZ,UAAI,IAAA,SAAA;AAAW,YAAA,OAAA;AACf,UAAA,IAAI,WAAW,IAAM,EAAA;AACnB,YAAA,UAAA,CAAW,OAAQ,CAAA,OAAA,CAAQ,MAAO,CAAA,OAAO,CAAC,CAAA,CAAA;AAAA,WACrC,MAAA;AACL,YAAA,UAAA,CAAW,KAAM,EAAA,CAAA;AAAA,WACnB;AAAA,SACF;AAAA,QACA,QAAQ,GAAK,EAAA;AACX,UAAA,UAAA,CAAW,MAAM,GAAG,CAAA,CAAA;AAAA,SACtB;AAAA,OACD,CAAA,CAAA;AAAA,KACH;AAAA,IACA,MAAS,GAAA;AACP,MAAY,SAAA,GAAA,IAAA,CAAA;AAAA,KACd;AAAA,GACD,CAAA,CAAA;AACH,CAAA;AAEO,SAAS,iBACd,CAAA,KAAA,EACA,OAAsB,GAAA,IACtB,QACM,EAAA;AACN,EAAM,MAAA,MAAA,GAAS,SAAS,SAAU,EAAA,CAAA;AAClC,EAAM,MAAA,OAAA,GAAU,IAAI,WAAY,EAAA,CAAA;AAGhC,EAAA,IAAI,QAAW,GAAA,KAAA,CAAA;AACf,EAAI,IAAA;AACF,IAAW,QAAA,GAAAW,gBAAA,CAAU,OAAO,KAAK,CAAA,CAAA;AAAA,WAC1B,CAAQ,EAAA;AAAA,GAAC;AAElB,EAAA,oBAAA,CAAqB,OAAO,OAAS,EAAA;AAAA,IACnC,MAAM,KAAK,OAAS,EAAA;AAClB,MAAA,IAAI,QAAU,EAAA;AACZ,QAAA,MAAM,MAAO,CAAA,KAAA,CAAA;AAAA,OACf;AACA,MAAA,IAAI,WAAW,IAAM,EAAA;AACnB,QAAA,OAAO,MAAO,CAAA,KAAA,CAAM,OAAQ,CAAA,MAAA,CAAO,OAAO,CAAC,CAAA,CAAA;AAAA,OACtC,MAAA;AACL,QAAA,OAAO,OAAO,KAAM,EAAA,CAAA;AAAA,OACtB;AAAA,KACF;AAAA,IACA,QAAQ,GAAK,EAAA;AAGX,MAAA,OAAA,CAAQ,IAAI,GAAG,CAAA,CAAA;AACf,MAAA,MAAA,CAAO,KAAM,EAAA,CAAA;AAAA,KACf;AAAA,GACD,CAAA,CAAA;AACH;;ACpNAe,wBAAqB,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}