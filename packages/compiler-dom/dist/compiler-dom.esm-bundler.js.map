{"version":3,"file":"compiler-dom.esm-bundler.js","sources":["../src/runtimeHelpers.ts","../src/decodeHtmlBrowser.ts","../src/parserOptions.ts","../src/transforms/transformStyle.ts","../src/errors.ts","../src/transforms/vHtml.ts","../src/transforms/vText.ts","../src/transforms/vModel.ts","../src/transforms/vOn.ts","../src/transforms/vShow.ts","../src/transforms/Transition.ts","../src/transforms/ignoreSideEffectTags.ts","../src/index.ts"],"sourcesContent":["import { registerRuntimeHelpers } from '@vue/compiler-core'\r\n\r\nexport const V_MODEL_RADIO = Symbol(__DEV__ ? `vModelRadio` : ``)\r\nexport const V_MODEL_CHECKBOX = Symbol(__DEV__ ? `vModelCheckbox` : ``)\r\nexport const V_MODEL_TEXT = Symbol(__DEV__ ? `vModelText` : ``)\r\nexport const V_MODEL_SELECT = Symbol(__DEV__ ? `vModelSelect` : ``)\r\nexport const V_MODEL_DYNAMIC = Symbol(__DEV__ ? `vModelDynamic` : ``)\r\n\r\nexport const V_ON_WITH_MODIFIERS = Symbol(__DEV__ ? `vOnModifiersGuard` : ``)\r\nexport const V_ON_WITH_KEYS = Symbol(__DEV__ ? `vOnKeysGuard` : ``)\r\n\r\nexport const V_SHOW = Symbol(__DEV__ ? `vShow` : ``)\r\n\r\nexport const TRANSITION = Symbol(__DEV__ ? `Transition` : ``)\r\nexport const TRANSITION_GROUP = Symbol(__DEV__ ? `TransitionGroup` : ``)\r\n\r\nregisterRuntimeHelpers({\r\n  [V_MODEL_RADIO]: `vModelRadio`,\r\n  [V_MODEL_CHECKBOX]: `vModelCheckbox`,\r\n  [V_MODEL_TEXT]: `vModelText`,\r\n  [V_MODEL_SELECT]: `vModelSelect`,\r\n  [V_MODEL_DYNAMIC]: `vModelDynamic`,\r\n  [V_ON_WITH_MODIFIERS]: `withModifiers`,\r\n  [V_ON_WITH_KEYS]: `withKeys`,\r\n  [V_SHOW]: `vShow`,\r\n  [TRANSITION]: `Transition`,\r\n  [TRANSITION_GROUP]: `TransitionGroup`,\r\n})\r\n","/* eslint-disable no-restricted-globals */\r\n\r\nlet decoder: HTMLDivElement\r\n\r\nexport function decodeHtmlBrowser(raw: string, asAttr = false): string {\r\n  if (!decoder) {\r\n    decoder = document.createElement('div')\r\n  }\r\n  if (asAttr) {\r\n    decoder.innerHTML = `<div foo=\"${raw.replace(/\"/g, '&quot;')}\">`\r\n    return decoder.children[0].getAttribute('foo')!\r\n  } else {\r\n    decoder.innerHTML = raw\r\n    return decoder.textContent!\r\n  }\r\n}\r\n","import { Namespaces, NodeTypes, type ParserOptions } from '@vue/compiler-core'\r\nimport { isHTMLTag, isMathMLTag, isSVGTag, isVoidTag } from '@vue/shared'\r\nimport { TRANSITION, TRANSITION_GROUP } from './runtimeHelpers'\r\nimport { decodeHtmlBrowser } from './decodeHtmlBrowser'\r\n\r\nexport const parserOptions: ParserOptions = {\r\n  parseMode: 'html',\r\n  isVoidTag,\r\n  isNativeTag: tag => isHTMLTag(tag) || isSVGTag(tag) || isMathMLTag(tag),\r\n  isPreTag: tag => tag === 'pre',\r\n  decodeEntities: __BROWSER__ ? decodeHtmlBrowser : undefined,\r\n\r\n  isBuiltInComponent: tag => {\r\n    if (tag === 'Transition' || tag === 'transition') {\r\n      return TRANSITION\r\n    } else if (tag === 'TransitionGroup' || tag === 'transition-group') {\r\n      return TRANSITION_GROUP\r\n    }\r\n  },\r\n\r\n  // https://html.spec.whatwg.org/multipage/parsing.html#tree-construction-dispatcher\r\n  getNamespace(tag, parent, rootNamespace) {\r\n    let ns = parent ? parent.ns : rootNamespace\r\n    if (parent && ns === Namespaces.MATH_ML) {\r\n      if (parent.tag === 'annotation-xml') {\r\n        if (tag === 'svg') {\r\n          return Namespaces.SVG\r\n        }\r\n        if (\r\n          parent.props.some(\r\n            a =>\r\n              a.type === NodeTypes.ATTRIBUTE &&\r\n              a.name === 'encoding' &&\r\n              a.value != null &&\r\n              (a.value.content === 'text/html' ||\r\n                a.value.content === 'application/xhtml+xml'),\r\n          )\r\n        ) {\r\n          ns = Namespaces.HTML\r\n        }\r\n      } else if (\r\n        /^m(?:[ions]|text)$/.test(parent.tag) &&\r\n        tag !== 'mglyph' &&\r\n        tag !== 'malignmark'\r\n      ) {\r\n        ns = Namespaces.HTML\r\n      }\r\n    } else if (parent && ns === Namespaces.SVG) {\r\n      if (\r\n        parent.tag === 'foreignObject' ||\r\n        parent.tag === 'desc' ||\r\n        parent.tag === 'title'\r\n      ) {\r\n        ns = Namespaces.HTML\r\n      }\r\n    }\r\n\r\n    if (ns === Namespaces.HTML) {\r\n      if (tag === 'svg') {\r\n        return Namespaces.SVG\r\n      }\r\n      if (tag === 'math') {\r\n        return Namespaces.MATH_ML\r\n      }\r\n    }\r\n    return ns\r\n  },\r\n}\r\n","import {\r\n  ConstantTypes,\r\n  type NodeTransform,\r\n  NodeTypes,\r\n  type SimpleExpressionNode,\r\n  type SourceLocation,\r\n  createSimpleExpression,\r\n} from '@vue/compiler-core'\r\nimport { parseStringStyle } from '@vue/shared'\r\n\r\n// Parse inline CSS strings for static style attributes into an object.\r\n// This is a NodeTransform since it works on the static `style` attribute and\r\n// converts it into a dynamic equivalent:\r\n// style=\"color: red\" -> :style='{ \"color\": \"red\" }'\r\n// It is then processed by `transformElement` and included in the generated\r\n// props.\r\nexport const transformStyle: NodeTransform = node => {\r\n  if (node.type === NodeTypes.ELEMENT) {\r\n    node.props.forEach((p, i) => {\r\n      if (p.type === NodeTypes.ATTRIBUTE && p.name === 'style' && p.value) {\r\n        // replace p with an expression node\r\n        node.props[i] = {\r\n          type: NodeTypes.DIRECTIVE,\r\n          name: `bind`,\r\n          arg: createSimpleExpression(`style`, true, p.loc),\r\n          exp: parseInlineCSS(p.value.content, p.loc),\r\n          modifiers: [],\r\n          loc: p.loc,\r\n        }\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst parseInlineCSS = (\r\n  cssText: string,\r\n  loc: SourceLocation,\r\n): SimpleExpressionNode => {\r\n  const normalized = parseStringStyle(cssText)\r\n  return createSimpleExpression(\r\n    JSON.stringify(normalized),\r\n    false,\r\n    loc,\r\n    ConstantTypes.CAN_STRINGIFY,\r\n  )\r\n}\r\n","import {\r\n  type CompilerError,\r\n  ErrorCodes,\r\n  type SourceLocation,\r\n  createCompilerError,\r\n} from '@vue/compiler-core'\r\n\r\nexport interface DOMCompilerError extends CompilerError {\r\n  code: DOMErrorCodes\r\n}\r\n\r\nexport function createDOMCompilerError(\r\n  code: DOMErrorCodes,\r\n  loc?: SourceLocation,\r\n) {\r\n  return createCompilerError(\r\n    code,\r\n    loc,\r\n    __DEV__ || !__BROWSER__ ? DOMErrorMessages : undefined,\r\n  ) as DOMCompilerError\r\n}\r\n\r\nexport enum DOMErrorCodes {\r\n  X_V_HTML_NO_EXPRESSION = 53 /* ErrorCodes.__EXTEND_POINT__ */,\r\n  X_V_HTML_WITH_CHILDREN,\r\n  X_V_TEXT_NO_EXPRESSION,\r\n  X_V_TEXT_WITH_CHILDREN,\r\n  X_V_MODEL_ON_INVALID_ELEMENT,\r\n  X_V_MODEL_ARG_ON_ELEMENT,\r\n  X_V_MODEL_ON_FILE_INPUT_ELEMENT,\r\n  X_V_MODEL_UNNECESSARY_VALUE,\r\n  X_V_SHOW_NO_EXPRESSION,\r\n  X_TRANSITION_INVALID_CHILDREN,\r\n  X_IGNORED_SIDE_EFFECT_TAG,\r\n  __EXTEND_POINT__,\r\n}\r\n\r\nif (__TEST__) {\r\n  // esbuild cannot infer enum increments if first value is from another\r\n  // file, so we have to manually keep them in sync. this check ensures it\r\n  // errors out if there are collisions.\r\n  if (DOMErrorCodes.X_V_HTML_NO_EXPRESSION < ErrorCodes.__EXTEND_POINT__) {\r\n    throw new Error(\r\n      `DOMErrorCodes need to be updated to ${\r\n        ErrorCodes.__EXTEND_POINT__ + 1\r\n      } to match extension point from core ErrorCodes.`,\r\n    )\r\n  }\r\n}\r\n\r\nexport const DOMErrorMessages: { [code: number]: string } = {\r\n  [DOMErrorCodes.X_V_HTML_NO_EXPRESSION]: `v-html is missing expression.`,\r\n  [DOMErrorCodes.X_V_HTML_WITH_CHILDREN]: `v-html will override element children.`,\r\n  [DOMErrorCodes.X_V_TEXT_NO_EXPRESSION]: `v-text is missing expression.`,\r\n  [DOMErrorCodes.X_V_TEXT_WITH_CHILDREN]: `v-text will override element children.`,\r\n  [DOMErrorCodes.X_V_MODEL_ON_INVALID_ELEMENT]: `v-model can only be used on <input>, <textarea> and <select> elements.`,\r\n  [DOMErrorCodes.X_V_MODEL_ARG_ON_ELEMENT]: `v-model argument is not supported on plain elements.`,\r\n  [DOMErrorCodes.X_V_MODEL_ON_FILE_INPUT_ELEMENT]: `v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.`,\r\n  [DOMErrorCodes.X_V_MODEL_UNNECESSARY_VALUE]: `Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.`,\r\n  [DOMErrorCodes.X_V_SHOW_NO_EXPRESSION]: `v-show is missing expression.`,\r\n  [DOMErrorCodes.X_TRANSITION_INVALID_CHILDREN]: `<Transition> expects exactly one child element or component.`,\r\n  [DOMErrorCodes.X_IGNORED_SIDE_EFFECT_TAG]: `Tags with side effect (<script> and <style>) are ignored in client component templates.`,\r\n}\r\n","import {\r\n  type DirectiveTransform,\r\n  createObjectProperty,\r\n  createSimpleExpression,\r\n} from '@vue/compiler-core'\r\nimport { DOMErrorCodes, createDOMCompilerError } from '../errors'\r\n\r\nexport const transformVHtml: DirectiveTransform = (dir, node, context) => {\r\n  const { exp, loc } = dir\r\n  if (!exp) {\r\n    context.onError(\r\n      createDOMCompilerError(DOMErrorCodes.X_V_HTML_NO_EXPRESSION, loc),\r\n    )\r\n  }\r\n  if (node.children.length) {\r\n    context.onError(\r\n      createDOMCompilerError(DOMErrorCodes.X_V_HTML_WITH_CHILDREN, loc),\r\n    )\r\n    node.children.length = 0\r\n  }\r\n  return {\r\n    props: [\r\n      createObjectProperty(\r\n        createSimpleExpression(`innerHTML`, true, loc),\r\n        exp || createSimpleExpression('', true),\r\n      ),\r\n    ],\r\n  }\r\n}\r\n","import {\r\n  type DirectiveTransform,\r\n  TO_DISPLAY_STRING,\r\n  createCallExpression,\r\n  createObjectProperty,\r\n  createSimpleExpression,\r\n  getConstantType,\r\n} from '@vue/compiler-core'\r\nimport { DOMErrorCodes, createDOMCompilerError } from '../errors'\r\n\r\nexport const transformVText: DirectiveTransform = (dir, node, context) => {\r\n  const { exp, loc } = dir\r\n  if (!exp) {\r\n    context.onError(\r\n      createDOMCompilerError(DOMErrorCodes.X_V_TEXT_NO_EXPRESSION, loc),\r\n    )\r\n  }\r\n  if (node.children.length) {\r\n    context.onError(\r\n      createDOMCompilerError(DOMErrorCodes.X_V_TEXT_WITH_CHILDREN, loc),\r\n    )\r\n    node.children.length = 0\r\n  }\r\n  return {\r\n    props: [\r\n      createObjectProperty(\r\n        createSimpleExpression(`textContent`, true),\r\n        exp\r\n          ? getConstantType(exp, context) > 0\r\n            ? exp\r\n            : createCallExpression(\r\n                context.helperString(TO_DISPLAY_STRING),\r\n                [exp],\r\n                loc,\r\n              )\r\n          : createSimpleExpression('', true),\r\n      ),\r\n    ],\r\n  }\r\n}\r\n","import {\r\n  type DirectiveTransform,\r\n  ElementTypes,\r\n  NodeTypes,\r\n  transformModel as baseTransform,\r\n  findDir,\r\n  findProp,\r\n  hasDynamicKeyVBind,\r\n  isStaticArgOf,\r\n} from '@vue/compiler-core'\r\nimport { DOMErrorCodes, createDOMCompilerError } from '../errors'\r\nimport {\r\n  V_MODEL_CHECKBOX,\r\n  V_MODEL_DYNAMIC,\r\n  V_MODEL_RADIO,\r\n  V_MODEL_SELECT,\r\n  V_MODEL_TEXT,\r\n} from '../runtimeHelpers'\r\n\r\nexport const transformModel: DirectiveTransform = (dir, node, context) => {\r\n  const baseResult = baseTransform(dir, node, context)\r\n  // base transform has errors OR component v-model (only need props)\r\n  if (!baseResult.props.length || node.tagType === ElementTypes.COMPONENT) {\r\n    return baseResult\r\n  }\r\n\r\n  if (dir.arg) {\r\n    context.onError(\r\n      createDOMCompilerError(\r\n        DOMErrorCodes.X_V_MODEL_ARG_ON_ELEMENT,\r\n        dir.arg.loc,\r\n      ),\r\n    )\r\n  }\r\n\r\n  function checkDuplicatedValue() {\r\n    const value = findDir(node, 'bind')\r\n    if (value && isStaticArgOf(value.arg, 'value')) {\r\n      context.onError(\r\n        createDOMCompilerError(\r\n          DOMErrorCodes.X_V_MODEL_UNNECESSARY_VALUE,\r\n          value.loc,\r\n        ),\r\n      )\r\n    }\r\n  }\r\n\r\n  const { tag } = node\r\n  const isCustomElement = context.isCustomElement(tag)\r\n  if (\r\n    tag === 'input' ||\r\n    tag === 'textarea' ||\r\n    tag === 'select' ||\r\n    isCustomElement\r\n  ) {\r\n    let directiveToUse = V_MODEL_TEXT\r\n    let isInvalidType = false\r\n    if (tag === 'input' || isCustomElement) {\r\n      const type = findProp(node, `type`)\r\n      if (type) {\r\n        if (type.type === NodeTypes.DIRECTIVE) {\r\n          // :type=\"foo\"\r\n          directiveToUse = V_MODEL_DYNAMIC\r\n        } else if (type.value) {\r\n          switch (type.value.content) {\r\n            case 'radio':\r\n              directiveToUse = V_MODEL_RADIO\r\n              break\r\n            case 'checkbox':\r\n              directiveToUse = V_MODEL_CHECKBOX\r\n              break\r\n            case 'file':\r\n              isInvalidType = true\r\n              context.onError(\r\n                createDOMCompilerError(\r\n                  DOMErrorCodes.X_V_MODEL_ON_FILE_INPUT_ELEMENT,\r\n                  dir.loc,\r\n                ),\r\n              )\r\n              break\r\n            default:\r\n              // text type\r\n              __DEV__ && checkDuplicatedValue()\r\n              break\r\n          }\r\n        }\r\n      } else if (hasDynamicKeyVBind(node)) {\r\n        // element has bindings with dynamic keys, which can possibly contain\r\n        // \"type\".\r\n        directiveToUse = V_MODEL_DYNAMIC\r\n      } else {\r\n        // text type\r\n        __DEV__ && checkDuplicatedValue()\r\n      }\r\n    } else if (tag === 'select') {\r\n      directiveToUse = V_MODEL_SELECT\r\n    } else {\r\n      // textarea\r\n      __DEV__ && checkDuplicatedValue()\r\n    }\r\n    // inject runtime directive\r\n    // by returning the helper symbol via needRuntime\r\n    // the import will replaced a resolveDirective call.\r\n    if (!isInvalidType) {\r\n      baseResult.needRuntime = context.helper(directiveToUse)\r\n    }\r\n  } else {\r\n    context.onError(\r\n      createDOMCompilerError(\r\n        DOMErrorCodes.X_V_MODEL_ON_INVALID_ELEMENT,\r\n        dir.loc,\r\n      ),\r\n    )\r\n  }\r\n\r\n  // native vmodel doesn't need the `modelValue` props since they are also\r\n  // passed to the runtime as `binding.value`. removing it reduces code size.\r\n  baseResult.props = baseResult.props.filter(\r\n    p =>\r\n      !(\r\n        p.key.type === NodeTypes.SIMPLE_EXPRESSION &&\r\n        p.key.content === 'modelValue'\r\n      ),\r\n  )\r\n\r\n  return baseResult\r\n}\r\n","import {\r\n  CompilerDeprecationTypes,\r\n  type DirectiveTransform,\r\n  type ExpressionNode,\r\n  NodeTypes,\r\n  type SimpleExpressionNode,\r\n  type SourceLocation,\r\n  type TransformContext,\r\n  transformOn as baseTransform,\r\n  checkCompatEnabled,\r\n  createCallExpression,\r\n  createCompoundExpression,\r\n  createObjectProperty,\r\n  createSimpleExpression,\r\n  isStaticExp,\r\n} from '@vue/compiler-core'\r\nimport { V_ON_WITH_KEYS, V_ON_WITH_MODIFIERS } from '../runtimeHelpers'\r\nimport { capitalize, makeMap } from '@vue/shared'\r\n\r\nconst isEventOptionModifier = /*#__PURE__*/ makeMap(`passive,once,capture`)\r\nconst isNonKeyModifier = /*#__PURE__*/ makeMap(\r\n  // event propagation management\r\n  `stop,prevent,self,` +\r\n    // system modifiers + exact\r\n    `ctrl,shift,alt,meta,exact,` +\r\n    // mouse\r\n    `middle`,\r\n)\r\n// left & right could be mouse or key modifiers based on event type\r\nconst maybeKeyModifier = /*#__PURE__*/ makeMap('left,right')\r\nconst isKeyboardEvent = /*#__PURE__*/ makeMap(\r\n  `onkeyup,onkeydown,onkeypress`,\r\n  true,\r\n)\r\n\r\nconst resolveModifiers = (\r\n  key: ExpressionNode,\r\n  modifiers: string[],\r\n  context: TransformContext,\r\n  loc: SourceLocation,\r\n) => {\r\n  const keyModifiers = []\r\n  const nonKeyModifiers = []\r\n  const eventOptionModifiers = []\r\n\r\n  for (let i = 0; i < modifiers.length; i++) {\r\n    const modifier = modifiers[i]\r\n\r\n    if (\r\n      __COMPAT__ &&\r\n      modifier === 'native' &&\r\n      checkCompatEnabled(\r\n        CompilerDeprecationTypes.COMPILER_V_ON_NATIVE,\r\n        context,\r\n        loc,\r\n      )\r\n    ) {\r\n      eventOptionModifiers.push(modifier)\r\n    } else if (isEventOptionModifier(modifier)) {\r\n      // eventOptionModifiers: modifiers for addEventListener() options,\r\n      // e.g. .passive & .capture\r\n      eventOptionModifiers.push(modifier)\r\n    } else {\r\n      // runtimeModifiers: modifiers that needs runtime guards\r\n      if (maybeKeyModifier(modifier)) {\r\n        if (isStaticExp(key)) {\r\n          if (isKeyboardEvent((key as SimpleExpressionNode).content)) {\r\n            keyModifiers.push(modifier)\r\n          } else {\r\n            nonKeyModifiers.push(modifier)\r\n          }\r\n        } else {\r\n          keyModifiers.push(modifier)\r\n          nonKeyModifiers.push(modifier)\r\n        }\r\n      } else {\r\n        if (isNonKeyModifier(modifier)) {\r\n          nonKeyModifiers.push(modifier)\r\n        } else {\r\n          keyModifiers.push(modifier)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    keyModifiers,\r\n    nonKeyModifiers,\r\n    eventOptionModifiers,\r\n  }\r\n}\r\n\r\nconst transformClick = (key: ExpressionNode, event: string) => {\r\n  const isStaticClick =\r\n    isStaticExp(key) && key.content.toLowerCase() === 'onclick'\r\n  return isStaticClick\r\n    ? createSimpleExpression(event, true)\r\n    : key.type !== NodeTypes.SIMPLE_EXPRESSION\r\n      ? createCompoundExpression([\r\n          `(`,\r\n          key,\r\n          `) === \"onClick\" ? \"${event}\" : (`,\r\n          key,\r\n          `)`,\r\n        ])\r\n      : key\r\n}\r\n\r\nexport const transformOn: DirectiveTransform = (dir, node, context) => {\r\n  return baseTransform(dir, node, context, baseResult => {\r\n    const { modifiers } = dir\r\n    if (!modifiers.length) return baseResult\r\n\r\n    let { key, value: handlerExp } = baseResult.props[0]\r\n    const { keyModifiers, nonKeyModifiers, eventOptionModifiers } =\r\n      resolveModifiers(key, modifiers, context, dir.loc)\r\n\r\n    // normalize click.right and click.middle since they don't actually fire\r\n    if (nonKeyModifiers.includes('right')) {\r\n      key = transformClick(key, `onContextmenu`)\r\n    }\r\n    if (nonKeyModifiers.includes('middle')) {\r\n      key = transformClick(key, `onMouseup`)\r\n    }\r\n\r\n    if (nonKeyModifiers.length) {\r\n      handlerExp = createCallExpression(context.helper(V_ON_WITH_MODIFIERS), [\r\n        handlerExp,\r\n        JSON.stringify(nonKeyModifiers),\r\n      ])\r\n    }\r\n\r\n    if (\r\n      keyModifiers.length &&\r\n      // if event name is dynamic, always wrap with keys guard\r\n      (!isStaticExp(key) || isKeyboardEvent(key.content))\r\n    ) {\r\n      handlerExp = createCallExpression(context.helper(V_ON_WITH_KEYS), [\r\n        handlerExp,\r\n        JSON.stringify(keyModifiers),\r\n      ])\r\n    }\r\n\r\n    if (eventOptionModifiers.length) {\r\n      const modifierPostfix = eventOptionModifiers.map(capitalize).join('')\r\n      key = isStaticExp(key)\r\n        ? createSimpleExpression(`${key.content}${modifierPostfix}`, true)\r\n        : createCompoundExpression([`(`, key, `) + \"${modifierPostfix}\"`])\r\n    }\r\n\r\n    return {\r\n      props: [createObjectProperty(key, handlerExp)],\r\n    }\r\n  })\r\n}\r\n","import type { DirectiveTransform } from '@vue/compiler-core'\r\nimport { DOMErrorCodes, createDOMCompilerError } from '../errors'\r\nimport { V_SHOW } from '../runtimeHelpers'\r\n\r\nexport const transformShow: DirectiveTransform = (dir, node, context) => {\r\n  const { exp, loc } = dir\r\n  if (!exp) {\r\n    context.onError(\r\n      createDOMCompilerError(DOMErrorCodes.X_V_SHOW_NO_EXPRESSION, loc),\r\n    )\r\n  }\r\n\r\n  return {\r\n    props: [],\r\n    needRuntime: context.helper(V_SHOW),\r\n  }\r\n}\r\n","import {\r\n  type ComponentNode,\r\n  ElementTypes,\r\n  type IfBranchNode,\r\n  type NodeTransform,\r\n  NodeTypes,\r\n} from '@vue/compiler-core'\r\nimport { TRANSITION } from '../runtimeHelpers'\r\nimport { DOMErrorCodes, createDOMCompilerError } from '../errors'\r\n\r\nexport const transformTransition: NodeTransform = (node, context) => {\r\n  if (\r\n    node.type === NodeTypes.ELEMENT &&\r\n    node.tagType === ElementTypes.COMPONENT\r\n  ) {\r\n    const component = context.isBuiltInComponent(node.tag)\r\n    if (component === TRANSITION) {\r\n      return () => {\r\n        if (!node.children.length) {\r\n          return\r\n        }\r\n\r\n        // warn multiple transition children\r\n        if (hasMultipleChildren(node)) {\r\n          context.onError(\r\n            createDOMCompilerError(\r\n              DOMErrorCodes.X_TRANSITION_INVALID_CHILDREN,\r\n              {\r\n                start: node.children[0].loc.start,\r\n                end: node.children[node.children.length - 1].loc.end,\r\n                source: '',\r\n              },\r\n            ),\r\n          )\r\n        }\r\n\r\n        // check if it's s single child w/ v-show\r\n        // if yes, inject \"persisted: true\" to the transition props\r\n        const child = node.children[0]\r\n        if (child.type === NodeTypes.ELEMENT) {\r\n          for (const p of child.props) {\r\n            if (p.type === NodeTypes.DIRECTIVE && p.name === 'show') {\r\n              node.props.push({\r\n                type: NodeTypes.ATTRIBUTE,\r\n                name: 'persisted',\r\n                nameLoc: node.loc,\r\n                value: undefined,\r\n                loc: node.loc,\r\n              })\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction hasMultipleChildren(node: ComponentNode | IfBranchNode): boolean {\r\n  // #1352 filter out potential comment nodes.\r\n  const children = (node.children = node.children.filter(\r\n    c =>\r\n      c.type !== NodeTypes.COMMENT &&\r\n      !(c.type === NodeTypes.TEXT && !c.content.trim()),\r\n  ))\r\n  const child = children[0]\r\n  return (\r\n    children.length !== 1 ||\r\n    child.type === NodeTypes.FOR ||\r\n    (child.type === NodeTypes.IF && child.branches.some(hasMultipleChildren))\r\n  )\r\n}\r\n","import { ElementTypes, type NodeTransform, NodeTypes } from '@vue/compiler-core'\r\nimport { DOMErrorCodes, createDOMCompilerError } from '../errors'\r\n\r\nexport const ignoreSideEffectTags: NodeTransform = (node, context) => {\r\n  if (\r\n    node.type === NodeTypes.ELEMENT &&\r\n    node.tagType === ElementTypes.ELEMENT &&\r\n    (node.tag === 'script' || node.tag === 'style')\r\n  ) {\r\n    __DEV__ &&\r\n      context.onError(\r\n        createDOMCompilerError(\r\n          DOMErrorCodes.X_IGNORED_SIDE_EFFECT_TAG,\r\n          node.loc,\r\n        ),\r\n      )\r\n    context.removeNode()\r\n  }\r\n}\r\n","import {\r\n  type CodegenResult,\r\n  type CompilerOptions,\r\n  type DirectiveTransform,\r\n  type NodeTransform,\r\n  type ParserOptions,\r\n  type RootNode,\r\n  baseCompile,\r\n  baseParse,\r\n  noopDirectiveTransform,\r\n} from '@vue/compiler-core'\r\nimport { parserOptions } from './parserOptions'\r\nimport { transformStyle } from './transforms/transformStyle'\r\nimport { transformVHtml } from './transforms/vHtml'\r\nimport { transformVText } from './transforms/vText'\r\nimport { transformModel } from './transforms/vModel'\r\nimport { transformOn } from './transforms/vOn'\r\nimport { transformShow } from './transforms/vShow'\r\nimport { transformTransition } from './transforms/Transition'\r\nimport { stringifyStatic } from './transforms/stringifyStatic'\r\nimport { ignoreSideEffectTags } from './transforms/ignoreSideEffectTags'\r\nimport { extend } from '@vue/shared'\r\n\r\nexport { parserOptions }\r\n\r\nexport const DOMNodeTransforms: NodeTransform[] = [\r\n  transformStyle,\r\n  ...(__DEV__ ? [transformTransition] : []),\r\n]\r\n\r\nexport const DOMDirectiveTransforms: Record<string, DirectiveTransform> = {\r\n  cloak: noopDirectiveTransform,\r\n  html: transformVHtml,\r\n  text: transformVText,\r\n  model: transformModel, // override compiler-core\r\n  on: transformOn, // override compiler-core\r\n  show: transformShow,\r\n}\r\n\r\nexport function compile(\r\n  src: string | RootNode,\r\n  options: CompilerOptions = {},\r\n): CodegenResult {\r\n  return baseCompile(\r\n    src,\r\n    extend({}, parserOptions, options, {\r\n      nodeTransforms: [\r\n        // ignore <script> and <tag>\r\n        // this is not put inside DOMNodeTransforms because that list is used\r\n        // by compiler-ssr to generate vnode fallback branches\r\n        ignoreSideEffectTags,\r\n        ...DOMNodeTransforms,\r\n        ...(options.nodeTransforms || []),\r\n      ],\r\n      directiveTransforms: extend(\r\n        {},\r\n        DOMDirectiveTransforms,\r\n        options.directiveTransforms || {},\r\n      ),\r\n      transformHoist: __BROWSER__ ? null : stringifyStatic,\r\n    }),\r\n  )\r\n}\r\n\r\nexport function parse(template: string, options: ParserOptions = {}): RootNode {\r\n  return baseParse(template, extend({}, parserOptions, options))\r\n}\r\n\r\nexport * from './runtimeHelpers'\r\nexport { transformStyle } from './transforms/transformStyle'\r\nexport {\r\n  createDOMCompilerError,\r\n  DOMErrorCodes,\r\n  DOMErrorMessages,\r\n} from './errors'\r\nexport * from '@vue/compiler-core'\r\n"],"names":["baseTransform"],"mappings":"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"}